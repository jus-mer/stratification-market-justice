<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Researcher">
<meta name="dcterms.date" content="2025-03-05">
<title>Data preparation</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="01-proc-data_files/libs/clipboard/clipboard.min.js"></script>
<script src="01-proc-data_files/libs/quarto-html/quarto.js"></script>
<script src="01-proc-data_files/libs/quarto-html/popper.min.js"></script>
<script src="01-proc-data_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="01-proc-data_files/libs/quarto-html/anchor.min.js"></script>
<link href="01-proc-data_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="01-proc-data_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="01-proc-data_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="01-proc-data_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="01-proc-data_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
</head>
<body>

<header id="title-block-header" class="quarto-title-block default page-columns page-full"><div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Data preparation</h1>
            <p class="subtitle lead">Perceptions of Inequality and Meritocracy: Their Interplay in Shaping Preferences for Market Justice in Chile (2016-2023)</p>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Researcher </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">March 5, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="2"><h2 id="toc-title">Contents</h2>
   
  <ul class="collapse">
<li><a href="#presentation" id="toc-presentation" class="nav-link active" data-scroll-target="#presentation"><span class="header-section-number">1</span> Presentation</a></li>
  <li><a href="#libraries" id="toc-libraries" class="nav-link" data-scroll-target="#libraries"><span class="header-section-number">2</span> Libraries</a></li>
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data"><span class="header-section-number">3</span> Data</a></li>
  <li>
<a href="#processing" id="toc-processing" class="nav-link" data-scroll-target="#processing"><span class="header-section-number">4</span> Processing</a>
  <ul class="collapse">
<li><a href="#select" id="toc-select" class="nav-link" data-scroll-target="#select"><span class="header-section-number">4.1</span> Select</a></li>
  <li><a href="#filter" id="toc-filter" class="nav-link" data-scroll-target="#filter"><span class="header-section-number">4.2</span> Filter</a></li>
  <li><a href="#recode-and-transform" id="toc-recode-and-transform" class="nav-link" data-scroll-target="#recode-and-transform"><span class="header-section-number">4.3</span> Recode and transform</a></li>
  <li><a href="#missing-values" id="toc-missing-values" class="nav-link" data-scroll-target="#missing-values"><span class="header-section-number">4.4</span> Missing values</a></li>
  </ul>
</li>
  <li><a href="#save-and-export" id="toc-save-and-export" class="nav-link" data-scroll-target="#save-and-export"><span class="header-section-number">5</span> Save and export</a></li>
  </ul><div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="01-proc-data.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
</div>
<main class="content quarto-banner-title-block" id="quarto-document-content"><section id="presentation" class="level1" data-number="1"><h1 data-number="1">
<span class="header-section-number">1</span> Presentation</h1>
<p>This is the data preparation code for the paper “Perceptions of Inequality and Meritocracy: Their Interplay in Shaping Preferences for Market Justice in Chile (2016-2023)”. The prepared dataset is <code>ELSOC_Long_2016_2023_1.00.RData</code>.</p>
</section><section id="libraries" class="level1" data-number="2"><h1 data-number="2">
<span class="header-section-number">2</span> Libraries</h1>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span> <span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span><span class="op">(</span><span class="st"><a href="https://github.com/trinker/pacman">"pacman"</a></span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"pacman"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">pacman</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pacman/man/p_load.html">p_load</a></span><span class="op">(</span><span class="va">tidyverse</span>,</span>
<span>               <span class="va">sjmisc</span>, </span>
<span>               <span class="va">here</span>,</span>
<span>               <span class="va">sjlabelled</span>,</span>
<span>               <span class="va">SciViews</span>,</span>
<span>               <span class="va">naniar</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>scipen<span class="op">=</span><span class="fl">999</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rm.html">rm</a></span><span class="op">(</span>list <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ls.html">ls</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="data" class="level1" data-number="3"><h1 data-number="3">
<span class="header-section-number">3</span> Data</h1>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/load.html">load</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/connections.html">url</a></span><span class="op">(</span><span class="st">"https://dataverse.harvard.edu/api/access/datafile/10797987"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">glimpse</span><span class="op">(</span><span class="va">elsoc_long_2016_2023</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="processing" class="level1" data-number="4"><h1 data-number="4">
<span class="header-section-number">4</span> Processing</h1>
<section id="select" class="level2" data-number="4.1"><h2 data-number="4.1" class="anchored" data-anchor-id="select">
<span class="header-section-number">4.1</span> Select</h2>
<div class="cell">
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">db_proc</span> <span class="op">&lt;-</span> <span class="va">elsoc_long_2016_2023</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">idencuesta</span>, <span class="va">ola</span>, </span>
<span>         <span class="va">ponderador_long_total</span>,<span class="va">segmento</span>, <span class="va">estrato</span>,</span>
<span>         just_educ <span class="op">=</span> <span class="va">d02_02</span>, just_pension <span class="op">=</span> <span class="va">d02_01</span>, </span>
<span>         just_health <span class="op">=</span> <span class="va">d02_03</span>, merit_effort <span class="op">=</span> <span class="va">c18_09</span>,</span>
<span>         merit_talent <span class="op">=</span> <span class="va">c18_10</span>, perc_sal_gerente <span class="op">=</span> <span class="va">d03_01</span>,</span>
<span>         perc_sal_obrero <span class="op">=</span> <span class="va">d03_02</span>, just_sal_gerente <span class="op">=</span> <span class="va">d04_01</span>, </span>
<span>         just_sal_obrero <span class="op">=</span> <span class="va">d04_02</span>, age <span class="op">=</span> <span class="va">m0_edad</span>, <span class="va">m01</span>, </span>
<span>         sex <span class="op">=</span> <span class="va">m0_sexo</span>, ess <span class="op">=</span> <span class="va">d01_01</span>, ideo <span class="op">=</span> <span class="va">c15</span></span>
<span>         <span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">as_tibble</span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="filter" class="level2" data-number="4.2"><h2 data-number="4.2" class="anchored" data-anchor-id="filter">
<span class="header-section-number">4.2</span> Filter</h2>
<div class="cell">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#db_proc %&gt;% </span></span>
<span><span class="co">#  group_by(ola) %&gt;% </span></span>
<span><span class="co">#  count(just_educ,just_pension,just_health) %&gt;% </span></span>
<span><span class="co">#  na.omit() %&gt;% </span></span>
<span><span class="co">#  print(n = nrow(.)) </span></span>
<span></span>
<span><span class="va">db_proc</span> <span class="op">&lt;-</span> <span class="va">db_proc</span> <span class="op">%&gt;%</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">ola</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span>,<span class="fl">6</span>,<span class="fl">7</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="recode-and-transform" class="level2" data-number="4.3"><h2 data-number="4.3" class="anchored" data-anchor-id="recode-and-transform">
<span class="header-section-number">4.3</span> Recode and transform</h2>
<div class="cell">
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># general na's</span></span>
<span><span class="va">db_proc</span><span class="op">[</span><span class="va">db_proc</span> <span class="op">==</span><span class="op">-</span><span class="fl">999</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span><span class="va">db_proc</span><span class="op">[</span><span class="va">db_proc</span> <span class="op">==</span><span class="op">-</span><span class="fl">888</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span><span class="va">db_proc</span><span class="op">[</span><span class="va">db_proc</span> <span class="op">==</span><span class="op">-</span><span class="fl">777</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span><span class="va">db_proc</span><span class="op">[</span><span class="va">db_proc</span> <span class="op">==</span><span class="op">-</span><span class="fl">666</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span></span>
<span><span class="co"># mjp</span></span>
<span></span>
<span><span class="fu">frq</span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">just_health</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Grado de acuerdo: Justicia distributiva en salud (x) &lt;numeric&gt; 
# total N=18021 valid N=17986 mean=1.86 sd=0.91

Value |                                 Label |    N | Raw % | Valid % | Cum. %
-------------------------------------------------------------------------------
 -999 |                           No Responde |    0 |  0.00 |    0.00 |   0.00
 -888 |                               No Sabe |    0 |  0.00 |    0.00 |   0.00
 -777 |       Valor perdido por error tecnico |    0 |  0.00 |    0.00 |   0.00
 -666 | Valor perdido por encuesta incompleta |    0 |  0.00 |    0.00 |   0.00
    1 |              Totalmente en desacuerdo | 6820 | 37.84 |   37.92 |  37.92
    2 |                         En desacuerdo | 8630 | 47.89 |   47.98 |  85.90
    3 |        Ni de acuerdo ni en desacuerdo |  949 |  5.27 |    5.28 |  91.18
    4 |                            De acuerdo | 1355 |  7.52 |    7.53 |  98.71
    5 |                 Totalmente de acuerdo |  232 |  1.29 |    1.29 | 100.00
 &lt;NA&gt; |                                  &lt;NA&gt; |   35 |  0.19 |    &lt;NA&gt; |   &lt;NA&gt;</code></pre>
</div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">frq</span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">just_pension</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Grado de acuerdo: Justicia distributiva en pensiones (x) &lt;numeric&gt; 
# total N=18021 valid N=17966 mean=2.24 sd=1.11

Value |                                 Label |    N | Raw % | Valid % | Cum. %
-------------------------------------------------------------------------------
 -999 |                           No Responde |    0 |  0.00 |    0.00 |   0.00
 -888 |                               No Sabe |    0 |  0.00 |    0.00 |   0.00
 -777 |       Valor perdido por error tecnico |    0 |  0.00 |    0.00 |   0.00
 -666 | Valor perdido por encuesta incompleta |    0 |  0.00 |    0.00 |   0.00
    1 |              Totalmente en desacuerdo | 4889 | 27.13 |   27.21 |  27.21
    2 |                         En desacuerdo | 7802 | 43.29 |   43.43 |  70.64
    3 |        Ni de acuerdo ni en desacuerdo | 1740 |  9.66 |    9.68 |  80.32
    4 |                            De acuerdo | 3087 | 17.13 |   17.18 |  97.51
    5 |                 Totalmente de acuerdo |  448 |  2.49 |    2.49 | 100.00
 &lt;NA&gt; |                                  &lt;NA&gt; |   55 |  0.31 |    &lt;NA&gt; |   &lt;NA&gt;</code></pre>
</div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">frq</span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">just_educ</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Grado de acuerdo: Justicia distributiva en educacion (x) &lt;numeric&gt; 
# total N=18021 valid N=17982 mean=1.91 sd=0.92

Value |                                 Label |    N | Raw % | Valid % | Cum. %
-------------------------------------------------------------------------------
 -999 |                           No Responde |    0 |  0.00 |    0.00 |   0.00
 -888 |                               No Sabe |    0 |  0.00 |    0.00 |   0.00
 -777 |       Valor perdido por error tecnico |    0 |  0.00 |    0.00 |   0.00
 -666 | Valor perdido por encuesta incompleta |    0 |  0.00 |    0.00 |   0.00
    1 |              Totalmente en desacuerdo | 6299 | 34.95 |   35.03 |  35.03
    2 |                         En desacuerdo | 8909 | 49.44 |   49.54 |  84.57
    3 |        Ni de acuerdo ni en desacuerdo | 1104 |  6.13 |    6.14 |  90.71
    4 |                            De acuerdo | 1444 |  8.01 |    8.03 |  98.74
    5 |                 Totalmente de acuerdo |  226 |  1.25 |    1.26 | 100.00
 &lt;NA&gt; |                                  &lt;NA&gt; |   39 |  0.22 |    &lt;NA&gt; |   &lt;NA&gt;</code></pre>
</div>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">labels1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Strongly desagree"</span> <span class="op">=</span> <span class="fl">1</span>, </span>
<span>             <span class="st">"Desagree"</span> <span class="op">=</span> <span class="fl">2</span>, </span>
<span>             <span class="st">"Neither agree nor desagree"</span> <span class="op">=</span> <span class="fl">3</span>, </span>
<span>             <span class="st">"Agree"</span> <span class="op">=</span> <span class="fl">4</span>, </span>
<span>             <span class="st">"Strongly agree"</span> <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span></span>
<span><span class="va">db_proc</span> <span class="op">&lt;-</span> <span class="va">db_proc</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span></span>
<span>    <span class="fu">across</span><span class="op">(</span></span>
<span>      .cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">just_health</span>, <span class="va">just_pension</span>, <span class="va">just_educ</span><span class="op">)</span>,</span>
<span>      .fns <span class="op">=</span> <span class="op">~</span> <span class="fu">sjlabelled</span><span class="fu">::</span><span class="fu"><a href="https://strengejacke.github.io/sjlabelled/reference/set_labels.html">set_labels</a></span><span class="op">(</span><span class="va">.</span>, labels <span class="op">=</span> <span class="va">labels1</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span><span class="va">db_proc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="va">db_proc</span>, <span class="st">"mjp"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html">rowMeans</a></span><span class="op">(</span><span class="va">db_proc</span> <span class="op">%&gt;%</span> <span class="fu">select</span><span class="op">(</span><span class="va">just_health</span>, <span class="va">just_pension</span>, <span class="va">just_educ</span><span class="op">)</span>, na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">mjp</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
  1.000   1.333   2.000   2.006   2.333   5.000      23 </code></pre>
</div>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">db_proc</span> <span class="op">&lt;-</span> <span class="va">db_proc</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span></span>
<span>    <span class="fu">across</span><span class="op">(</span></span>
<span>      .cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">just_health</span>, <span class="va">just_pension</span>, <span class="va">just_educ</span><span class="op">)</span>,</span>
<span>      .fns <span class="op">=</span> <span class="op">~</span> <span class="fu">car</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/car/man/recode.html">recode</a></span><span class="op">(</span><span class="va">.</span>, recodes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"1='Strongly desagree'; 2='Desagree';</span></span>
<span><span class="st">                                          3='Neither agree nor desagree'; 4='Agree';</span></span>
<span><span class="st">                                          5='Strongly agree'"</span><span class="op">)</span>, </span>
<span>                           levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Strongly desagree"</span>, <span class="st">"Desagree"</span>, <span class="st">"Neither agree nor desagree"</span>, <span class="st">"Agree"</span>, <span class="st">"Strongly agree"</span><span class="op">)</span>,</span>
<span>                           as.factor <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span></span>
<span></span>
<span><span class="va">db_proc</span><span class="op">$</span><span class="va">just_health</span> <span class="op">&lt;-</span> <span class="fu">sjlabelled</span><span class="fu">::</span><span class="fu"><a href="https://strengejacke.github.io/sjlabelled/reference/set_label.html">set_label</a></span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">just_health</span>, </span>
<span>                        label <span class="op">=</span> <span class="st">"Health distributive justice"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">db_proc</span><span class="op">$</span><span class="va">just_pension</span> <span class="op">&lt;-</span> <span class="fu">sjlabelled</span><span class="fu">::</span><span class="fu"><a href="https://strengejacke.github.io/sjlabelled/reference/set_label.html">set_label</a></span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">just_pension</span>, </span>
<span>                        label <span class="op">=</span> <span class="st">"Pension distributive justice"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">db_proc</span><span class="op">$</span><span class="va">just_educ</span> <span class="op">&lt;-</span> <span class="fu">sjlabelled</span><span class="fu">::</span><span class="fu"><a href="https://strengejacke.github.io/sjlabelled/reference/set_label.html">set_label</a></span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">just_educ</span>, </span>
<span>                        label <span class="op">=</span> <span class="st">"Education distributive justice"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">db_proc</span><span class="op">$</span><span class="va">mjp</span> <span class="op">&lt;-</span> <span class="fu">sjlabelled</span><span class="fu">::</span><span class="fu"><a href="https://strengejacke.github.io/sjlabelled/reference/set_label.html">set_label</a></span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">mjp</span>, </span>
<span>                        label <span class="op">=</span> <span class="st">"Market justice preferences"</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># merit</span></span>
<span></span>
<span><span class="fu">frq</span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">merit_effort</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Grado de acuerdo: Las personas son recompensadas por sus esfuerzos (x) &lt;numeric&gt; 
# total N=18021 valid N=17917 mean=2.61 sd=1.03

Value |                                 Label |    N | Raw % | Valid % | Cum. %
-------------------------------------------------------------------------------
 -999 |                           No Responde |    0 |  0.00 |    0.00 |   0.00
 -888 |                               No Sabe |    0 |  0.00 |    0.00 |   0.00
 -777 |       Valor perdido por error tecnico |    0 |  0.00 |    0.00 |   0.00
 -666 | Valor perdido por encuesta incompleta |    0 |  0.00 |    0.00 |   0.00
    1 |              Totalmente en desacuerdo | 1936 | 10.74 |   10.81 |  10.81
    2 |                         En desacuerdo | 8027 | 44.54 |   44.80 |  55.61
    3 |        Ni en desacuerdo ni de acuerdo | 3615 | 20.06 |   20.18 |  75.78
    4 |                            De acuerdo | 3812 | 21.15 |   21.28 |  97.06
    5 |                 Totalmente de acuerdo |  527 |  2.92 |    2.94 | 100.00
 &lt;NA&gt; |                                  &lt;NA&gt; |  104 |  0.58 |    &lt;NA&gt; |   &lt;NA&gt;</code></pre>
</div>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">frq</span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">merit_talent</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Grado de acuerdo: Las personas son recompensada por su inteligencia (x) &lt;numeric&gt; 
# total N=18021 valid N=17917 mean=2.77 sd=1.04

Value |                                 Label |    N | Raw % | Valid % | Cum. %
-------------------------------------------------------------------------------
 -999 |                           No Responde |    0 |  0.00 |    0.00 |   0.00
 -888 |                               No Sabe |    0 |  0.00 |    0.00 |   0.00
 -777 |       Valor perdido por error tecnico |    0 |  0.00 |    0.00 |   0.00
 -666 | Valor perdido por encuesta incompleta |    0 |  0.00 |    0.00 |   0.00
    1 |              Totalmente en desacuerdo | 1598 |  8.87 |    8.92 |   8.92
    2 |                         En desacuerdo | 6818 | 37.83 |   38.05 |  46.97
    3 |        Ni en desacuerdo ni de acuerdo | 4076 | 22.62 |   22.75 |  69.72
    4 |                            De acuerdo | 4883 | 27.10 |   27.25 |  96.97
    5 |                 Totalmente de acuerdo |  542 |  3.01 |    3.03 | 100.00
 &lt;NA&gt; |                                  &lt;NA&gt; |  104 |  0.58 |    &lt;NA&gt; |   &lt;NA&gt;</code></pre>
</div>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">db_proc</span> <span class="op">&lt;-</span> <span class="va">db_proc</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span></span>
<span>    <span class="fu">across</span><span class="op">(</span></span>
<span>      .cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">merit_effort</span>, <span class="va">merit_talent</span><span class="op">)</span>,</span>
<span>      .fns <span class="op">=</span> <span class="op">~</span> <span class="fu">sjlabelled</span><span class="fu">::</span><span class="fu"><a href="https://strengejacke.github.io/sjlabelled/reference/set_labels.html">set_labels</a></span><span class="op">(</span><span class="va">.</span>, labels <span class="op">=</span> <span class="va">labels1</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span><span class="va">db_proc</span> <span class="op">&lt;-</span> <span class="va">db_proc</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span></span>
<span>    <span class="fu">across</span><span class="op">(</span></span>
<span>      .cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">merit_effort</span>, <span class="va">merit_talent</span><span class="op">)</span>,</span>
<span>      .fns <span class="op">=</span> <span class="op">~</span> <span class="fu">car</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/car/man/recode.html">recode</a></span><span class="op">(</span><span class="va">.</span>, recodes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"1='Strongly desagree'; 2='Desagree';</span></span>
<span><span class="st">                                          3='Neither agree nor desagree'; 4='Agree';</span></span>
<span><span class="st">                                          5='Strongly agree'"</span><span class="op">)</span>, </span>
<span>                           levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Strongly desagree"</span>, <span class="st">"Desagree"</span>, <span class="st">"Neither agree nor desagree"</span>, <span class="st">"Agree"</span>, <span class="st">"Strongly agree"</span><span class="op">)</span>,</span>
<span>                           as.factor <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span></span>
<span></span>
<span><span class="va">db_proc</span><span class="op">$</span><span class="va">merit_effort</span> <span class="op">&lt;-</span> <span class="fu">sjlabelled</span><span class="fu">::</span><span class="fu"><a href="https://strengejacke.github.io/sjlabelled/reference/set_label.html">set_label</a></span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">merit_effort</span>, </span>
<span>                        label <span class="op">=</span> <span class="st">"People are rewarded for their efforts"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">db_proc</span><span class="op">$</span><span class="va">merit_talent</span> <span class="op">&lt;-</span> <span class="fu">sjlabelled</span><span class="fu">::</span><span class="fu"><a href="https://strengejacke.github.io/sjlabelled/reference/set_label.html">set_label</a></span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">merit_talent</span>, </span>
<span>                        label <span class="op">=</span> <span class="st">"People are rewarded for their intelligence"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># perc inequality gap</span></span>
<span></span>
<span><span class="fu">frq</span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">perc_sal_gerente</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Salario percibido: Gerente gran empresa (x) &lt;numeric&gt; 
# total N=18021 valid N=16988 mean=12420591048250076.00 sd=1087732675709961984.00

   Value |    N | Raw % | Valid % | Cum. %
------------------------------------------
    0.00 |   10 |  0.06 |    0.06 |   0.06
    1.00 |    1 |  0.01 |    0.01 |   0.06
    2.00 |    1 |  0.01 |    0.01 |   0.07
  208.00 |    1 |  0.01 |    0.01 |   0.08
  556.00 |    1 |  0.01 |    0.01 |   0.08
  568.00 |    1 |  0.01 |    0.01 |   0.09
  889.00 |    1 |  0.01 |    0.01 |   0.09
  999.00 |    2 |  0.01 |    0.01 |   0.11
 5828.00 |    1 |  0.01 |    0.01 |   0.11
 6582.00 |    1 |  0.01 |    0.01 |   0.12
10000.00 |    2 |  0.01 |    0.01 |   0.13
12000.00 |    1 |  0.01 |    0.01 |   0.14
15088.00 |    1 |  0.01 |    0.01 |   0.14
20000.00 |    2 |  0.01 |    0.01 |   0.15
35568.00 |    1 |  0.01 |    0.01 |   0.16
35652.00 |    1 |  0.01 |    0.01 |   0.16
38383.00 |    1 |  0.01 |    0.01 |   0.17
40000.00 |    1 |  0.01 |    0.01 |   0.18
50000.00 |    2 |  0.01 |    0.01 |   0.19
60000.00 |    1 |  0.01 |    0.01 |   0.19
65863.00 |    1 |  0.01 |    0.01 |   0.20
88888.00 |    1 |  0.01 |    0.01 |   0.21
1.00e+05 |   13 |  0.07 |    0.08 |   0.28
1.20e+05 |    1 |  0.01 |    0.01 |   0.29
1.50e+05 |    2 |  0.01 |    0.01 |   0.30
1.80e+05 |    2 |  0.01 |    0.01 |   0.31
2.00e+05 |    6 |  0.03 |    0.04 |   0.35
2.40e+05 |    1 |  0.01 |    0.01 |   0.35
2.50e+05 |    2 |  0.01 |    0.01 |   0.36
2.60e+05 |    1 |  0.01 |    0.01 |   0.37
2.70e+05 |    1 |  0.01 |    0.01 |   0.38
3.00e+05 |    9 |  0.05 |    0.05 |   0.43
3.80e+05 |    2 |  0.01 |    0.01 |   0.44
4.00e+05 |    4 |  0.02 |    0.02 |   0.47
4.50e+05 |    1 |  0.01 |    0.01 |   0.47
5.00e+05 |   21 |  0.12 |    0.12 |   0.59
6.00e+05 |   16 |  0.09 |    0.09 |   0.69
6.50e+05 |    1 |  0.01 |    0.01 |   0.69
6.80e+05 |    1 |  0.01 |    0.01 |   0.70
7.00e+05 |   18 |  0.10 |    0.11 |   0.81
8.00e+05 |   21 |  0.12 |    0.12 |   0.93
8.50e+05 |    1 |  0.01 |    0.01 |   0.94
8.60e+05 |    1 |  0.01 |    0.01 |   0.94
9.00e+05 |   14 |  0.08 |    0.08 |   1.02
9.60e+05 |    1 |  0.01 |    0.01 |   1.03
1.00e+06 |  314 |  1.74 |    1.85 |   2.88
1.10e+06 |    2 |  0.01 |    0.01 |   2.89
1.20e+06 |   42 |  0.23 |    0.25 |   3.14
1.30e+06 |    6 |  0.03 |    0.04 |   3.17
1.40e+06 |    8 |  0.04 |    0.05 |   3.22
1.50e+06 |  207 |  1.15 |    1.22 |   4.44
1.60e+06 |    4 |  0.02 |    0.02 |   4.46
1.70e+06 |    6 |  0.03 |    0.04 |   4.50
1.80e+06 |   31 |  0.17 |    0.18 |   4.68
1.90e+06 |    4 |  0.02 |    0.02 |   4.70
2.00e+06 |  741 |  4.11 |    4.36 |   9.07
2.00e+06 |    2 |  0.01 |    0.01 |   9.08
2.20e+06 |    1 |  0.01 |    0.01 |   9.08
2.30e+06 |    1 |  0.01 |    0.01 |   9.09
2.40e+06 |    1 |  0.01 |    0.01 |   9.09
2.45e+06 |    1 |  0.01 |    0.01 |   9.10
2.50e+06 |  142 |  0.79 |    0.84 |   9.94
2.60e+06 |    4 |  0.02 |    0.02 |   9.96
2.70e+06 |    3 |  0.02 |    0.02 |   9.98
2.80e+06 |   13 |  0.07 |    0.08 |  10.05
3.00e+06 |  900 |  4.99 |    5.30 |  15.35
3.20e+06 |    3 |  0.02 |    0.02 |  15.37
3.50e+06 |   93 |  0.52 |    0.55 |  15.92
3.60e+06 |    1 |  0.01 |    0.01 |  15.92
3.70e+06 |    2 |  0.01 |    0.01 |  15.93
3.80e+06 |    3 |  0.02 |    0.02 |  15.95
4.00e+06 |  703 |  3.90 |    4.14 |  20.09
4.50e+06 |   32 |  0.18 |    0.19 |  20.28
4.80e+06 |    1 |  0.01 |    0.01 |  20.28
5.00e+06 | 1762 |  9.78 |   10.37 |  30.66
5.00e+06 |    1 |  0.01 |    0.01 |  30.66
5.00e+06 |    2 |  0.01 |    0.01 |  30.67
5.20e+06 |    1 |  0.01 |    0.01 |  30.68
5.40e+06 |    1 |  0.01 |    0.01 |  30.69
5.50e+06 |   16 |  0.09 |    0.09 |  30.78
5.70e+06 |    1 |  0.01 |    0.01 |  30.79
5.80e+06 |    1 |  0.01 |    0.01 |  30.79
6.00e+06 |  712 |  3.95 |    4.19 |  34.98
6.20e+06 |    1 |  0.01 |    0.01 |  34.99
6.50e+06 |   13 |  0.07 |    0.08 |  35.07
6.80e+06 |    2 |  0.01 |    0.01 |  35.08
7.00e+06 |  523 |  2.90 |    3.08 |  38.16
7.40e+06 |    1 |  0.01 |    0.01 |  38.16
7.50e+06 |    7 |  0.04 |    0.04 |  38.20
7.60e+06 |    1 |  0.01 |    0.01 |  38.21
8.00e+06 |  822 |  4.56 |    4.84 |  43.05
8.00e+06 |    2 |  0.01 |    0.01 |  43.06
8.00e+06 |    1 |  0.01 |    0.01 |  43.07
8.50e+06 |    8 |  0.04 |    0.05 |  43.11
9.00e+06 |  135 |  0.75 |    0.79 |  43.91
9.50e+06 |    2 |  0.01 |    0.01 |  43.92
9.65e+06 |    1 |  0.01 |    0.01 |  43.93
9.80e+06 |    1 |  0.01 |    0.01 |  43.93
1.00e+07 | 2231 | 12.38 |   13.13 |  57.06
1.00e+07 |    1 |  0.01 |    0.01 |  57.07
1.05e+07 |    2 |  0.01 |    0.01 |  57.08
1.10e+07 |   52 |  0.29 |    0.31 |  57.39
1.20e+07 |  490 |  2.72 |    2.88 |  60.27
1.20e+07 |    1 |  0.01 |    0.01 |  60.28
1.28e+07 |    1 |  0.01 |    0.01 |  60.28
1.30e+07 |   46 |  0.26 |    0.27 |  60.55
1.40e+07 |   76 |  0.42 |    0.45 |  61.00
1.50e+07 | 1106 |  6.14 |    6.51 |  67.51
1.50e+07 |    2 |  0.01 |    0.01 |  67.52
1.55e+07 |    1 |  0.01 |    0.01 |  67.53
1.60e+07 |   35 |  0.19 |    0.21 |  67.74
1.70e+07 |   28 |  0.16 |    0.16 |  67.90
1.80e+07 |  153 |  0.85 |    0.90 |  68.80
1.85e+07 |    1 |  0.01 |    0.01 |  68.81
1.89e+07 |    1 |  0.01 |    0.01 |  68.81
1.90e+07 |   11 |  0.06 |    0.06 |  68.88
2.00e+07 | 1695 |  9.41 |    9.98 |  78.86
2.10e+07 |   10 |  0.06 |    0.06 |  78.91
2.20e+07 |   28 |  0.16 |    0.16 |  79.08
2.22e+07 |    1 |  0.01 |    0.01 |  79.09
2.30e+07 |   11 |  0.06 |    0.06 |  79.15
2.40e+07 |   15 |  0.08 |    0.09 |  79.24
2.50e+07 |  423 |  2.35 |    2.49 |  81.73
2.60e+07 |    9 |  0.05 |    0.05 |  81.78
2.70e+07 |   10 |  0.06 |    0.06 |  81.84
2.80e+07 |   11 |  0.06 |    0.06 |  81.90
3.00e+07 |  882 |  4.89 |    5.19 |  87.10
3.20e+07 |    9 |  0.05 |    0.05 |  87.15
3.30e+07 |    2 |  0.01 |    0.01 |  87.16
3.40e+07 |    5 |  0.03 |    0.03 |  87.19
3.50e+07 |   77 |  0.43 |    0.45 |  87.64
3.60e+07 |    4 |  0.02 |    0.02 |  87.67
3.70e+07 |    2 |  0.01 |    0.01 |  87.68
3.80e+07 |    7 |  0.04 |    0.04 |  87.72
4.00e+07 |  321 |  1.78 |    1.89 |  89.61
4.20e+07 |    4 |  0.02 |    0.02 |  89.63
4.30e+07 |    2 |  0.01 |    0.01 |  89.65
4.40e+07 |    1 |  0.01 |    0.01 |  89.65
4.50e+07 |   28 |  0.16 |    0.16 |  89.82
4.70e+07 |    1 |  0.01 |    0.01 |  89.82
4.80e+07 |    1 |  0.01 |    0.01 |  89.83
4.90e+07 |    1 |  0.01 |    0.01 |  89.83
5.00e+07 |  528 |  2.93 |    3.11 |  92.94
5.00e+07 |    1 |  0.01 |    0.01 |  92.95
5.30e+07 |    1 |  0.01 |    0.01 |  92.95
5.40e+07 |    3 |  0.02 |    0.02 |  92.97
5.50e+07 |   11 |  0.06 |    0.06 |  93.04
5.70e+07 |    1 |  0.01 |    0.01 |  93.04
6.00e+07 |  145 |  0.80 |    0.85 |  93.90
6.00e+07 |    1 |  0.01 |    0.01 |  93.90
6.40e+07 |    1 |  0.01 |    0.01 |  93.91
6.50e+07 |    3 |  0.02 |    0.02 |  93.93
6.60e+07 |    1 |  0.01 |    0.01 |  93.93
6.80e+07 |    1 |  0.01 |    0.01 |  93.94
6.90e+07 |    1 |  0.01 |    0.01 |  93.94
7.00e+07 |   50 |  0.28 |    0.29 |  94.24
7.30e+07 |    1 |  0.01 |    0.01 |  94.24
7.50e+07 |    2 |  0.01 |    0.01 |  94.25
7.80e+07 |    1 |  0.01 |    0.01 |  94.26
8.00e+07 |  127 |  0.70 |    0.75 |  95.01
8.50e+07 |    1 |  0.01 |    0.01 |  95.01
8.60e+07 |    1 |  0.01 |    0.01 |  95.02
8.80e+07 |    1 |  0.01 |    0.01 |  95.03
9.00e+07 |   16 |  0.09 |    0.09 |  95.12
9.40e+07 |    1 |  0.01 |    0.01 |  95.13
1.00e+08 |    1 |  0.01 |    0.01 |  95.13
1.00e+08 |  400 |  2.22 |    2.35 |  97.49
1.10e+08 |    1 |  0.01 |    0.01 |  97.49
1.14e+08 |    1 |  0.01 |    0.01 |  97.50
1.15e+08 |    1 |  0.01 |    0.01 |  97.50
1.20e+08 |   19 |  0.11 |    0.11 |  97.62
1.30e+08 |    2 |  0.01 |    0.01 |  97.63
1.34e+08 |    1 |  0.01 |    0.01 |  97.63
1.40e+08 |    2 |  0.01 |    0.01 |  97.65
1.50e+08 |   34 |  0.19 |    0.20 |  97.85
1.70e+08 |    1 |  0.01 |    0.01 |  97.85
1.80e+08 |    5 |  0.03 |    0.03 |  97.88
2.00e+08 |  104 |  0.58 |    0.61 |  98.49
2.24e+08 |    1 |  0.01 |    0.01 |  98.50
2.30e+08 |    3 |  0.02 |    0.02 |  98.52
2.41e+08 |    1 |  0.01 |    0.01 |  98.52
2.50e+08 |    9 |  0.05 |    0.05 |  98.58
2.53e+08 |    1 |  0.01 |    0.01 |  98.58
2.80e+08 |    1 |  0.01 |    0.01 |  98.59
3.00e+08 |   63 |  0.35 |    0.37 |  98.96
3.20e+08 |    1 |  0.01 |    0.01 |  98.96
3.30e+08 |    1 |  0.01 |    0.01 |  98.97
3.40e+08 |    1 |  0.01 |    0.01 |  98.98
3.50e+08 |    2 |  0.01 |    0.01 |  98.99
3.60e+08 |    1 |  0.01 |    0.01 |  98.99
3.80e+08 |    2 |  0.01 |    0.01 |  99.01
3.90e+08 |    1 |  0.01 |    0.01 |  99.01
4.00e+08 |   41 |  0.23 |    0.24 |  99.25
4.26e+08 |    1 |  0.01 |    0.01 |  99.26
4.50e+08 |    1 |  0.01 |    0.01 |  99.26
5.00e+08 |   53 |  0.29 |    0.31 |  99.58
5.00e+08 |    1 |  0.01 |    0.01 |  99.58
6.00e+08 |    3 |  0.02 |    0.02 |  99.60
6.50e+08 |    1 |  0.01 |    0.01 |  99.61
7.00e+08 |    5 |  0.03 |    0.03 |  99.64
8.00e+08 |    7 |  0.04 |    0.04 |  99.68
8.00e+08 |    1 |  0.01 |    0.01 |  99.68
9.00e+08 |    2 |  0.01 |    0.01 |  99.69
1.00e+09 |   25 |  0.14 |    0.15 |  99.84
1.20e+09 |    1 |  0.01 |    0.01 |  99.85
1.50e+09 |    1 |  0.01 |    0.01 |  99.85
2.00e+09 |    1 |  0.01 |    0.01 |  99.86
2.50e+09 |    1 |  0.01 |    0.01 |  99.86
3.00e+09 |    2 |  0.01 |    0.01 |  99.88
4.00e+09 |    2 |  0.01 |    0.01 |  99.89
5.00e+09 |    7 |  0.04 |    0.04 |  99.93
6.00e+09 |    2 |  0.01 |    0.01 |  99.94
7.00e+09 |    1 |  0.01 |    0.01 |  99.95
9.00e+09 |    1 |  0.01 |    0.01 |  99.95
1.50e+10 |    1 |  0.01 |    0.01 |  99.96
2.00e+10 |    1 |  0.01 |    0.01 |  99.96
2.00e+11 |    1 |  0.01 |    0.01 |  99.97
1.00e+15 |    1 |  0.01 |    0.01 |  99.98
1.00e+18 |    1 |  0.01 |    0.01 |  99.98
1.00e+19 |    1 |  0.01 |    0.01 |  99.99
1.00e+20 |    2 |  0.01 |    0.01 | 100.00
    &lt;NA&gt; | 1033 |  5.73 |    &lt;NA&gt; |   &lt;NA&gt;</code></pre>
</div>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">frq</span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">perc_sal_obrero</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Salario percibido: Obrero no calificado (x) &lt;numeric&gt; 
# total N=18021 valid N=17615 mean=5676979847104211.00 sd=753457354249442944.00

   Value |    N | Raw % | Valid % | Cum. %
------------------------------------------
    0.00 |    6 |  0.03 |    0.03 |   0.03
    1.00 |    1 |  0.01 |    0.01 |   0.04
   66.00 |    1 |  0.01 |    0.01 |   0.05
   99.00 |    1 |  0.01 |    0.01 |   0.05
  247.00 |    1 |  0.01 |    0.01 |   0.06
  300.00 |    2 |  0.01 |    0.01 |   0.07
  310.00 |    1 |  0.01 |    0.01 |   0.07
  358.00 |    1 |  0.01 |    0.01 |   0.08
  400.00 |    1 |  0.01 |    0.01 |   0.09
  555.00 |    1 |  0.01 |    0.01 |   0.09
  595.00 |    1 |  0.01 |    0.01 |   0.10
  683.00 |    1 |  0.01 |    0.01 |   0.10
 2500.00 |    1 |  0.01 |    0.01 |   0.11
 5383.00 |    1 |  0.01 |    0.01 |   0.11
 5999.00 |    1 |  0.01 |    0.01 |   0.12
 6586.00 |    1 |  0.01 |    0.01 |   0.12
 8668.00 |    1 |  0.01 |    0.01 |   0.13
 9858.00 |    1 |  0.01 |    0.01 |   0.14
20000.00 |    1 |  0.01 |    0.01 |   0.14
22000.00 |    1 |  0.01 |    0.01 |   0.15
24000.00 |    2 |  0.01 |    0.01 |   0.16
25000.00 |    6 |  0.03 |    0.03 |   0.19
25300.00 |    1 |  0.01 |    0.01 |   0.20
27000.00 |    1 |  0.01 |    0.01 |   0.20
28000.00 |    1 |  0.01 |    0.01 |   0.21
29000.00 |    1 |  0.01 |    0.01 |   0.22
30000.00 |    5 |  0.03 |    0.03 |   0.24
38383.00 |    1 |  0.01 |    0.01 |   0.25
40000.00 |    1 |  0.01 |    0.01 |   0.26
50000.00 |    4 |  0.02 |    0.02 |   0.28
60000.00 |    1 |  0.01 |    0.01 |   0.28
70000.00 |    3 |  0.02 |    0.02 |   0.30
80000.00 |    5 |  0.03 |    0.03 |   0.33
85000.00 |    1 |  0.01 |    0.01 |   0.33
90000.00 |    1 |  0.01 |    0.01 |   0.34
1.00e+05 |   33 |  0.18 |    0.19 |   0.53
1.05e+05 |    1 |  0.01 |    0.01 |   0.53
1.20e+05 |   27 |  0.15 |    0.15 |   0.69
1.25e+05 |    2 |  0.01 |    0.01 |   0.70
1.30e+05 |    9 |  0.05 |    0.05 |   0.75
1.37e+05 |    1 |  0.01 |    0.01 |   0.76
1.40e+05 |    5 |  0.03 |    0.03 |   0.78
1.50e+05 |   83 |  0.46 |    0.47 |   1.25
1.52e+05 |    1 |  0.01 |    0.01 |   1.26
1.55e+05 |    1 |  0.01 |    0.01 |   1.27
1.60e+05 |    5 |  0.03 |    0.03 |   1.29
1.70e+05 |   12 |  0.07 |    0.07 |   1.36
1.75e+05 |    1 |  0.01 |    0.01 |   1.37
1.78e+05 |    1 |  0.01 |    0.01 |   1.37
1.79e+05 |    1 |  0.01 |    0.01 |   1.38
1.80e+05 |  109 |  0.60 |    0.62 |   2.00
1.84e+05 |    1 |  0.01 |    0.01 |   2.00
1.85e+05 |    1 |  0.01 |    0.01 |   2.01
1.88e+05 |    1 |  0.01 |    0.01 |   2.02
1.89e+05 |    1 |  0.01 |    0.01 |   2.02
1.90e+05 |   12 |  0.07 |    0.07 |   2.09
1.98e+05 |    4 |  0.02 |    0.02 |   2.11
2.00e+05 |  633 |  3.51 |    3.59 |   5.71
2.00e+05 |    1 |  0.01 |    0.01 |   5.71
2.07e+05 |    2 |  0.01 |    0.01 |   5.72
2.09e+05 |    1 |  0.01 |    0.01 |   5.73
2.10e+05 |   58 |  0.32 |    0.33 |   6.06
2.11e+05 |    1 |  0.01 |    0.01 |   6.06
2.12e+05 |    2 |  0.01 |    0.01 |   6.07
2.13e+05 |    1 |  0.01 |    0.01 |   6.08
2.15e+05 |    7 |  0.04 |    0.04 |   6.12
2.16e+05 |    1 |  0.01 |    0.01 |   6.13
2.17e+05 |    3 |  0.02 |    0.02 |   6.14
2.20e+05 |  116 |  0.64 |    0.66 |   6.80
2.22e+05 |    1 |  0.01 |    0.01 |   6.81
2.23e+05 |    1 |  0.01 |    0.01 |   6.81
2.24e+05 |    1 |  0.01 |    0.01 |   6.82
2.25e+05 |   11 |  0.06 |    0.06 |   6.88
2.27e+05 |    1 |  0.01 |    0.01 |   6.89
2.30e+05 |  104 |  0.58 |    0.59 |   7.48
2.33e+05 |    1 |  0.01 |    0.01 |   7.48
2.35e+05 |    5 |  0.03 |    0.03 |   7.51
2.36e+05 |    2 |  0.01 |    0.01 |   7.52
2.37e+05 |    1 |  0.01 |    0.01 |   7.53
2.38e+05 |    1 |  0.01 |    0.01 |   7.53
2.39e+05 |    3 |  0.02 |    0.02 |   7.55
2.40e+05 |  240 |  1.33 |    1.36 |   8.91
2.41e+05 |    6 |  0.03 |    0.03 |   8.95
2.42e+05 |    3 |  0.02 |    0.02 |   8.96
2.44e+05 |    1 |  0.01 |    0.01 |   8.97
2.45e+05 |   10 |  0.06 |    0.06 |   9.03
2.46e+05 |    2 |  0.01 |    0.01 |   9.04
2.47e+05 |    1 |  0.01 |    0.01 |   9.04
2.48e+05 |    1 |  0.01 |    0.01 |   9.05
2.49e+05 |    2 |  0.01 |    0.01 |   9.06
2.50e+05 | 1724 |  9.57 |    9.79 |  18.85
2.51e+05 |    1 |  0.01 |    0.01 |  18.85
2.52e+05 |    4 |  0.02 |    0.02 |  18.88
2.53e+05 |    1 |  0.01 |    0.01 |  18.88
2.54e+05 |    2 |  0.01 |    0.01 |  18.89
2.55e+05 |   10 |  0.06 |    0.06 |  18.95
2.56e+05 |    5 |  0.03 |    0.03 |  18.98
2.57e+05 |   43 |  0.24 |    0.24 |  19.22
2.58e+05 |    7 |  0.04 |    0.04 |  19.26
2.58e+05 |    3 |  0.02 |    0.02 |  19.28
2.59e+05 |    3 |  0.02 |    0.02 |  19.30
2.60e+05 |  244 |  1.35 |    1.39 |  20.68
2.61e+05 |    1 |  0.01 |    0.01 |  20.69
2.62e+05 |    2 |  0.01 |    0.01 |  20.70
2.64e+05 |   14 |  0.08 |    0.08 |  20.78
2.65e+05 |   23 |  0.13 |    0.13 |  20.91
2.66e+05 |    1 |  0.01 |    0.01 |  20.91
2.66e+05 |    1 |  0.01 |    0.01 |  20.92
2.67e+05 |   14 |  0.08 |    0.08 |  21.00
2.68e+05 |    3 |  0.02 |    0.02 |  21.02
2.69e+05 |    2 |  0.01 |    0.01 |  21.03
2.70e+05 |  944 |  5.24 |    5.36 |  26.39
2.70e+05 |    2 |  0.01 |    0.01 |  26.40
2.71e+05 |    5 |  0.03 |    0.03 |  26.43
2.72e+05 |   15 |  0.08 |    0.09 |  26.51
2.73e+05 |    5 |  0.03 |    0.03 |  26.54
2.74e+05 |    5 |  0.03 |    0.03 |  26.57
2.75e+05 |  105 |  0.58 |    0.60 |  27.16
2.76e+05 |    1 |  0.01 |    0.01 |  27.17
2.76e+05 |  118 |  0.65 |    0.67 |  27.84
2.76e+05 |    1 |  0.01 |    0.01 |  27.85
2.77e+05 |    5 |  0.03 |    0.03 |  27.87
2.78e+05 |   34 |  0.19 |    0.19 |  28.07
2.79e+05 |    2 |  0.01 |    0.01 |  28.08
2.80e+05 |  765 |  4.25 |    4.34 |  32.42
2.81e+05 |    3 |  0.02 |    0.02 |  32.44
2.82e+05 |    4 |  0.02 |    0.02 |  32.46
2.83e+05 |    3 |  0.02 |    0.02 |  32.48
2.84e+05 |    5 |  0.03 |    0.03 |  32.51
2.85e+05 |   33 |  0.18 |    0.19 |  32.69
2.86e+05 |   14 |  0.08 |    0.08 |  32.77
2.87e+05 |   15 |  0.08 |    0.09 |  32.86
2.88e+05 |   44 |  0.24 |    0.25 |  33.11
2.89e+05 |    2 |  0.01 |    0.01 |  33.12
2.89e+05 |    2 |  0.01 |    0.01 |  33.13
2.90e+05 |  105 |  0.58 |    0.60 |  33.73
2.91e+05 |    1 |  0.01 |    0.01 |  33.73
2.92e+05 |    1 |  0.01 |    0.01 |  33.74
2.93e+05 |    1 |  0.01 |    0.01 |  33.74
2.94e+05 |    1 |  0.01 |    0.01 |  33.75
2.95e+05 |    3 |  0.02 |    0.02 |  33.77
2.97e+05 |    1 |  0.01 |    0.01 |  33.77
2.99e+05 |    1 |  0.01 |    0.01 |  33.78
3.00e+05 | 2988 | 16.58 |   16.96 |  50.74
3.00e+05 |    2 |  0.01 |    0.01 |  50.75
3.01e+05 |  208 |  1.15 |    1.18 |  51.93
3.02e+05 |    3 |  0.02 |    0.02 |  51.95
3.04e+05 |    1 |  0.01 |    0.01 |  51.96
3.05e+05 |   26 |  0.14 |    0.15 |  52.10
3.07e+05 |    1 |  0.01 |    0.01 |  52.11
3.09e+05 |    1 |  0.01 |    0.01 |  52.11
3.10e+05 |   66 |  0.37 |    0.37 |  52.49
3.15e+05 |    2 |  0.01 |    0.01 |  52.50
3.17e+05 |    1 |  0.01 |    0.01 |  52.51
3.18e+05 |    1 |  0.01 |    0.01 |  52.51
3.20e+05 |  154 |  0.85 |    0.87 |  53.39
3.25e+05 |    5 |  0.03 |    0.03 |  53.41
3.27e+05 |    2 |  0.01 |    0.01 |  53.43
3.30e+05 |   24 |  0.13 |    0.14 |  53.56
3.31e+05 |    1 |  0.01 |    0.01 |  53.57
3.37e+05 |    1 |  0.01 |    0.01 |  53.57
3.40e+05 |   21 |  0.12 |    0.12 |  53.69
3.45e+05 |    1 |  0.01 |    0.01 |  53.70
3.50e+05 | 1307 |  7.25 |    7.42 |  61.12
3.55e+05 |    1 |  0.01 |    0.01 |  61.12
3.58e+05 |    1 |  0.01 |    0.01 |  61.13
3.60e+05 |   47 |  0.26 |    0.27 |  61.40
3.65e+05 |    1 |  0.01 |    0.01 |  61.40
3.70e+05 |   35 |  0.19 |    0.20 |  61.60
3.75e+05 |    3 |  0.02 |    0.02 |  61.62
3.76e+05 |    1 |  0.01 |    0.01 |  61.62
3.80e+05 |  273 |  1.51 |    1.55 |  63.17
3.83e+05 |    2 |  0.01 |    0.01 |  63.18
3.85e+05 |   12 |  0.07 |    0.07 |  63.25
3.88e+05 |    1 |  0.01 |    0.01 |  63.26
3.90e+05 |   22 |  0.12 |    0.12 |  63.38
4.00e+05 | 2606 | 14.46 |   14.79 |  78.18
4.06e+05 |    1 |  0.01 |    0.01 |  78.18
4.08e+05 |    1 |  0.01 |    0.01 |  78.19
4.10e+05 |   22 |  0.12 |    0.12 |  78.31
4.20e+05 |   93 |  0.52 |    0.53 |  78.84
4.20e+05 |    1 |  0.01 |    0.01 |  78.85
4.25e+05 |    2 |  0.01 |    0.01 |  78.86
4.26e+05 |    1 |  0.01 |    0.01 |  78.86
4.29e+05 |    1 |  0.01 |    0.01 |  78.87
4.30e+05 |   13 |  0.07 |    0.07 |  78.94
4.35e+05 |    1 |  0.01 |    0.01 |  78.95
4.40e+05 |   13 |  0.07 |    0.07 |  79.02
4.46e+05 |    5 |  0.03 |    0.03 |  79.05
4.47e+05 |    1 |  0.01 |    0.01 |  79.06
4.50e+05 |  628 |  3.48 |    3.57 |  82.62
4.60e+05 |  157 |  0.87 |    0.89 |  83.51
4.66e+05 |    2 |  0.01 |    0.01 |  83.53
4.68e+05 |    1 |  0.01 |    0.01 |  83.53
4.70e+05 |   39 |  0.22 |    0.22 |  83.75
4.75e+05 |    1 |  0.01 |    0.01 |  83.76
4.80e+05 |   92 |  0.51 |    0.52 |  84.28
4.85e+05 |    1 |  0.01 |    0.01 |  84.29
4.90e+05 |   11 |  0.06 |    0.06 |  84.35
4.97e+05 |    1 |  0.01 |    0.01 |  84.35
5.00e+05 | 1531 |  8.50 |    8.69 |  93.05
5.00e+05 |    1 |  0.01 |    0.01 |  93.05
5.20e+05 |    1 |  0.01 |    0.01 |  93.06
5.25e+05 |    1 |  0.01 |    0.01 |  93.06
5.40e+05 |    4 |  0.02 |    0.02 |  93.09
5.50e+05 |   72 |  0.40 |    0.41 |  93.49
5.60e+05 |    4 |  0.02 |    0.02 |  93.52
5.70e+05 |    1 |  0.01 |    0.01 |  93.52
5.80e+05 |    8 |  0.04 |    0.05 |  93.57
6.00e+05 |  562 |  3.12 |    3.19 |  96.76
6.39e+05 |    1 |  0.01 |    0.01 |  96.76
6.50e+05 |   32 |  0.18 |    0.18 |  96.95
6.70e+05 |    1 |  0.01 |    0.01 |  96.95
6.80e+05 |    1 |  0.01 |    0.01 |  96.96
7.00e+05 |  192 |  1.07 |    1.09 |  98.05
7.50e+05 |    5 |  0.03 |    0.03 |  98.08
8.00e+05 |  179 |  0.99 |    1.02 |  99.09
8.50e+05 |    2 |  0.01 |    0.01 |  99.10
9.00e+05 |   18 |  0.10 |    0.10 |  99.21
1.00e+06 |   64 |  0.36 |    0.36 |  99.57
1.00e+06 |    1 |  0.01 |    0.01 |  99.57
1.10e+06 |    1 |  0.01 |    0.01 |  99.58
1.20e+06 |    6 |  0.03 |    0.03 |  99.61
1.50e+06 |    9 |  0.05 |    0.05 |  99.67
1.80e+06 |    1 |  0.01 |    0.01 |  99.67
1.90e+06 |    1 |  0.01 |    0.01 |  99.68
2.00e+06 |    7 |  0.04 |    0.04 |  99.72
2.20e+06 |    1 |  0.01 |    0.01 |  99.72
2.40e+06 |    1 |  0.01 |    0.01 |  99.73
2.50e+06 |    4 |  0.02 |    0.02 |  99.75
2.57e+06 |    2 |  0.01 |    0.01 |  99.76
2.60e+06 |    1 |  0.01 |    0.01 |  99.77
2.70e+06 |    1 |  0.01 |    0.01 |  99.77
2.76e+06 |    1 |  0.01 |    0.01 |  99.78
2.80e+06 |    4 |  0.02 |    0.02 |  99.80
2.80e+06 |    1 |  0.01 |    0.01 |  99.81
2.90e+06 |    1 |  0.01 |    0.01 |  99.81
2.95e+06 |    1 |  0.01 |    0.01 |  99.82
3.00e+06 |   15 |  0.08 |    0.09 |  99.90
3.50e+06 |    1 |  0.01 |    0.01 |  99.91
4.00e+06 |    3 |  0.02 |    0.02 |  99.93
4.60e+06 |    1 |  0.01 |    0.01 |  99.93
5.00e+06 |    4 |  0.02 |    0.02 |  99.95
6.00e+06 |    2 |  0.01 |    0.01 |  99.97
1.00e+07 |    1 |  0.01 |    0.01 |  99.97
1.50e+07 |    1 |  0.01 |    0.01 |  99.98
2.10e+07 |    1 |  0.01 |    0.01 |  99.98
3.50e+07 |    1 |  0.01 |    0.01 |  99.99
2.80e+08 |    1 |  0.01 |    0.01 |  99.99
1.00e+20 |    1 |  0.01 |    0.01 | 100.00
    &lt;NA&gt; |  406 |  2.25 |    &lt;NA&gt; |   &lt;NA&gt;</code></pre>
</div>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">db_proc</span> <span class="op">&lt;-</span> <span class="va">db_proc</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>perc_sal_obrero<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/replace.html">replace</a></span><span class="op">(</span><span class="va">perc_sal_obrero</span>, <span class="va">perc_sal_obrero</span> <span class="op">&lt;=</span> <span class="fl">40000</span>  <span class="op">|</span> <span class="va">perc_sal_obrero</span><span class="op">&gt;=</span> <span class="fl">1000000</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>perc_sal_gerente<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/replace.html">replace</a></span><span class="op">(</span><span class="va">perc_sal_gerente</span>, <span class="va">perc_sal_gerente</span> <span class="op">&lt;=</span> <span class="fl">250000</span> <span class="op">|</span> <span class="va">perc_sal_gerente</span><span class="op">&gt;=</span> <span class="fl">100000001</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span> </span>
<span></span>
<span></span>
<span><span class="va">db_proc</span><span class="op">$</span><span class="va">perc_inequality</span> <span class="op">&lt;-</span> <span class="fu">SciViews</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/SciViews/man/ln.html">ln</a></span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">perc_sal_gerente</span><span class="op">/</span><span class="va">db_proc</span><span class="op">$</span><span class="va">perc_sal_obrero</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">perc_inequality</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
-0.9904  2.6391  3.3524  3.3630  4.0943  6.9078    1702 </code></pre>
</div>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">db_proc</span><span class="op">$</span><span class="va">perc_inequality</span> <span class="op">&lt;-</span> <span class="fu">sjlabelled</span><span class="fu">::</span><span class="fu"><a href="https://strengejacke.github.io/sjlabelled/reference/set_label.html">set_label</a></span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">perc_inequality</span>, </span>
<span>                        label <span class="op">=</span> <span class="st">"Inequality gap perception"</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># just inequality gap</span></span>
<span></span>
<span><span class="fu">frq</span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">just_sal_gerente</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Salario justo: Gerente gran empresa (x) &lt;numeric&gt; 
# total N=18021 valid N=16905 mean=5921443374470978.00 sd=769117341165130752.00

   Value |    N | Raw % | Valid % | Cum. %
------------------------------------------
    0.00 |   16 |  0.09 |    0.09 |   0.09
    1.00 |    1 |  0.01 |    0.01 |   0.10
  888.00 |    1 |  0.01 |    0.01 |   0.11
  999.00 |    2 |  0.01 |    0.01 |   0.12
10000.00 |    3 |  0.02 |    0.02 |   0.14
50000.00 |    2 |  0.01 |    0.01 |   0.15
80000.00 |    2 |  0.01 |    0.01 |   0.16
88888.00 |    1 |  0.01 |    0.01 |   0.17
90000.00 |    1 |  0.01 |    0.01 |   0.17
1.00e+05 |   14 |  0.08 |    0.08 |   0.25
1.20e+05 |    1 |  0.01 |    0.01 |   0.26
1.50e+05 |    5 |  0.03 |    0.03 |   0.29
1.80e+05 |    1 |  0.01 |    0.01 |   0.30
2.00e+05 |   23 |  0.13 |    0.14 |   0.43
2.10e+05 |    1 |  0.01 |    0.01 |   0.44
2.41e+05 |    1 |  0.01 |    0.01 |   0.44
2.45e+05 |    1 |  0.01 |    0.01 |   0.45
2.50e+05 |   32 |  0.18 |    0.19 |   0.64
2.57e+05 |    3 |  0.02 |    0.02 |   0.66
2.60e+05 |    5 |  0.03 |    0.03 |   0.69
2.66e+05 |    2 |  0.01 |    0.01 |   0.70
2.70e+05 |   10 |  0.06 |    0.06 |   0.76
2.75e+05 |    1 |  0.01 |    0.01 |   0.76
2.76e+05 |    6 |  0.03 |    0.04 |   0.80
2.78e+05 |    3 |  0.02 |    0.02 |   0.82
2.80e+05 |   10 |  0.06 |    0.06 |   0.88
2.82e+05 |    1 |  0.01 |    0.01 |   0.88
2.86e+05 |    1 |  0.01 |    0.01 |   0.89
2.88e+05 |    4 |  0.02 |    0.02 |   0.91
2.90e+05 |    1 |  0.01 |    0.01 |   0.92
3.00e+05 |   55 |  0.31 |    0.33 |   1.24
3.01e+05 |    2 |  0.01 |    0.01 |   1.25
3.10e+05 |    1 |  0.01 |    0.01 |   1.26
3.20e+05 |    1 |  0.01 |    0.01 |   1.27
3.50e+05 |   16 |  0.09 |    0.09 |   1.36
3.60e+05 |    2 |  0.01 |    0.01 |   1.37
3.80e+05 |    3 |  0.02 |    0.02 |   1.39
4.00e+05 |   64 |  0.36 |    0.38 |   1.77
4.20e+05 |    1 |  0.01 |    0.01 |   1.77
4.50e+05 |   10 |  0.06 |    0.06 |   1.83
4.60e+05 |    1 |  0.01 |    0.01 |   1.84
4.70e+05 |    1 |  0.01 |    0.01 |   1.85
4.80e+05 |    1 |  0.01 |    0.01 |   1.85
5.00e+05 |  238 |  1.32 |    1.41 |   3.26
5.50e+05 |    1 |  0.01 |    0.01 |   3.27
6.00e+05 |  119 |  0.66 |    0.70 |   3.97
6.50e+05 |    2 |  0.01 |    0.01 |   3.98
6.80e+05 |    1 |  0.01 |    0.01 |   3.99
7.00e+05 |   72 |  0.40 |    0.43 |   4.41
7.50e+05 |    8 |  0.04 |    0.05 |   4.46
8.00e+05 |  212 |  1.18 |    1.25 |   5.71
8.50e+05 |    2 |  0.01 |    0.01 |   5.73
9.00e+05 |   62 |  0.34 |    0.37 |   6.09
9.50e+05 |    1 |  0.01 |    0.01 |   6.10
1.00e+06 |    1 |  0.01 |    0.01 |   6.10
1.00e+06 | 1191 |  6.61 |    7.05 |  13.15
1.00e+06 |    1 |  0.01 |    0.01 |  13.16
1.01e+06 |    1 |  0.01 |    0.01 |  13.16
1.10e+06 |    2 |  0.01 |    0.01 |  13.17
1.20e+06 |  108 |  0.60 |    0.64 |  13.81
1.25e+06 |    2 |  0.01 |    0.01 |  13.82
1.30e+06 |   13 |  0.07 |    0.08 |  13.90
1.40e+06 |   10 |  0.06 |    0.06 |  13.96
1.45e+06 |    1 |  0.01 |    0.01 |  13.97
1.50e+06 |  762 |  4.23 |    4.51 |  18.47
1.50e+06 |    2 |  0.01 |    0.01 |  18.49
1.60e+06 |    8 |  0.04 |    0.05 |  18.53
1.65e+06 |    1 |  0.01 |    0.01 |  18.54
1.70e+06 |    7 |  0.04 |    0.04 |  18.58
1.75e+06 |    1 |  0.01 |    0.01 |  18.59
1.80e+06 |   48 |  0.27 |    0.28 |  18.87
1.90e+06 |    4 |  0.02 |    0.02 |  18.89
2.00e+06 | 1925 | 10.68 |   11.39 |  30.28
2.00e+06 |    1 |  0.01 |    0.01 |  30.29
2.00e+06 |    1 |  0.01 |    0.01 |  30.29
2.10e+06 |    2 |  0.01 |    0.01 |  30.30
2.20e+06 |    2 |  0.01 |    0.01 |  30.32
2.30e+06 |    2 |  0.01 |    0.01 |  30.33
2.40e+06 |    2 |  0.01 |    0.01 |  30.34
2.45e+06 |    1 |  0.01 |    0.01 |  30.35
2.50e+06 |  392 |  2.18 |    2.32 |  32.66
2.60e+06 |    1 |  0.01 |    0.01 |  32.67
2.70e+06 |    2 |  0.01 |    0.01 |  32.68
2.80e+06 |    5 |  0.03 |    0.03 |  32.71
3.00e+06 | 1804 | 10.01 |   10.67 |  43.38
3.20e+06 |    1 |  0.01 |    0.01 |  43.39
3.25e+06 |    1 |  0.01 |    0.01 |  43.40
3.40e+06 |    2 |  0.01 |    0.01 |  43.41
3.50e+06 |  129 |  0.72 |    0.76 |  44.17
3.60e+06 |    1 |  0.01 |    0.01 |  44.18
3.70e+06 |    2 |  0.01 |    0.01 |  44.19
3.80e+06 |    3 |  0.02 |    0.02 |  44.21
4.00e+06 |  885 |  4.91 |    5.24 |  49.44
4.20e+06 |    1 |  0.01 |    0.01 |  49.45
4.30e+06 |    1 |  0.01 |    0.01 |  49.45
4.50e+06 |   37 |  0.21 |    0.22 |  49.67
4.80e+06 |    2 |  0.01 |    0.01 |  49.68
4.88e+06 |    1 |  0.01 |    0.01 |  49.69
5.00e+06 | 2576 | 14.29 |   15.24 |  64.93
5.01e+06 |    1 |  0.01 |    0.01 |  64.93
5.50e+06 |   10 |  0.06 |    0.06 |  64.99
6.00e+06 |  627 |  3.48 |    3.71 |  68.70
6.50e+06 |   10 |  0.06 |    0.06 |  68.76
6.80e+06 |    1 |  0.01 |    0.01 |  68.77
7.00e+06 |  417 |  2.31 |    2.47 |  71.23
7.50e+06 |   15 |  0.08 |    0.09 |  71.32
8.00e+06 |  633 |  3.51 |    3.74 |  75.07
8.50e+06 |    7 |  0.04 |    0.04 |  75.11
9.00e+06 |   99 |  0.55 |    0.59 |  75.69
9.50e+06 |    1 |  0.01 |    0.01 |  75.70
9.62e+06 |    1 |  0.01 |    0.01 |  75.71
1.00e+07 | 1672 |  9.28 |    9.89 |  85.60
1.00e+07 |    1 |  0.01 |    0.01 |  85.60
1.00e+07 |    1 |  0.01 |    0.01 |  85.61
1.08e+07 |    1 |  0.01 |    0.01 |  85.61
1.10e+07 |   14 |  0.08 |    0.08 |  85.70
1.20e+07 |  214 |  1.19 |    1.27 |  86.96
1.25e+07 |    4 |  0.02 |    0.02 |  86.99
1.30e+07 |   14 |  0.08 |    0.08 |  87.07
1.35e+07 |    1 |  0.01 |    0.01 |  87.07
1.40e+07 |   19 |  0.11 |    0.11 |  87.19
1.50e+07 |  603 |  3.35 |    3.57 |  90.75
1.60e+07 |   14 |  0.08 |    0.08 |  90.84
1.70e+07 |   13 |  0.07 |    0.08 |  90.91
1.80e+07 |   50 |  0.28 |    0.30 |  91.21
1.90e+07 |    4 |  0.02 |    0.02 |  91.23
2.00e+07 |  577 |  3.20 |    3.41 |  94.65
2.10e+07 |    1 |  0.01 |    0.01 |  94.65
2.20e+07 |   10 |  0.06 |    0.06 |  94.71
2.25e+07 |    1 |  0.01 |    0.01 |  94.72
2.30e+07 |    2 |  0.01 |    0.01 |  94.73
2.40e+07 |    2 |  0.01 |    0.01 |  94.74
2.50e+07 |  141 |  0.78 |    0.83 |  95.58
2.75e+07 |    1 |  0.01 |    0.01 |  95.58
2.80e+07 |    2 |  0.01 |    0.01 |  95.59
2.90e+07 |    2 |  0.01 |    0.01 |  95.60
3.00e+07 |  208 |  1.15 |    1.23 |  96.84
3.20e+07 |    2 |  0.01 |    0.01 |  96.85
3.50e+07 |   11 |  0.06 |    0.07 |  96.91
3.80e+07 |    1 |  0.01 |    0.01 |  96.92
3.90e+07 |    1 |  0.01 |    0.01 |  96.92
4.00e+07 |   61 |  0.34 |    0.36 |  97.28
4.30e+07 |    1 |  0.01 |    0.01 |  97.29
4.50e+07 |    7 |  0.04 |    0.04 |  97.33
4.90e+07 |    1 |  0.01 |    0.01 |  97.34
5.00e+07 |  190 |  1.05 |    1.12 |  98.46
5.50e+07 |    2 |  0.01 |    0.01 |  98.47
5.80e+07 |    1 |  0.01 |    0.01 |  98.48
6.00e+07 |   32 |  0.18 |    0.19 |  98.67
7.00e+07 |   15 |  0.08 |    0.09 |  98.76
7.00e+07 |    1 |  0.01 |    0.01 |  98.76
8.00e+07 |   24 |  0.13 |    0.14 |  98.91
9.00e+07 |    3 |  0.02 |    0.02 |  98.92
1.00e+08 |   65 |  0.36 |    0.38 |  99.31
1.10e+08 |    1 |  0.01 |    0.01 |  99.31
1.20e+08 |    4 |  0.02 |    0.02 |  99.34
1.40e+08 |    1 |  0.01 |    0.01 |  99.34
1.50e+08 |   15 |  0.08 |    0.09 |  99.43
2.00e+08 |   18 |  0.10 |    0.11 |  99.54
2.50e+08 |    4 |  0.02 |    0.02 |  99.56
3.00e+08 |   10 |  0.06 |    0.06 |  99.62
3.80e+08 |    1 |  0.01 |    0.01 |  99.63
4.00e+08 |    4 |  0.02 |    0.02 |  99.65
5.00e+08 |   23 |  0.13 |    0.14 |  99.79
6.00e+08 |    4 |  0.02 |    0.02 |  99.81
7.00e+08 |    2 |  0.01 |    0.01 |  99.82
1.00e+09 |    9 |  0.05 |    0.05 |  99.88
2.00e+09 |    2 |  0.01 |    0.01 |  99.89
3.00e+09 |    4 |  0.02 |    0.02 |  99.91
4.00e+09 |    1 |  0.01 |    0.01 |  99.92
5.00e+09 |    2 |  0.01 |    0.01 |  99.93
6.00e+09 |    1 |  0.01 |    0.01 |  99.93
7.00e+09 |    4 |  0.02 |    0.02 |  99.96
8.00e+09 |    3 |  0.02 |    0.02 |  99.98
1.00e+15 |    1 |  0.01 |    0.01 |  99.98
1.00e+15 |    1 |  0.01 |    0.01 |  99.99
1.00e+17 |    1 |  0.01 |    0.01 |  99.99
1.00e+20 |    1 |  0.01 |    0.01 | 100.00
    &lt;NA&gt; | 1116 |  6.19 |    &lt;NA&gt; |   &lt;NA&gt;</code></pre>
</div>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">frq</span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">just_sal_obrero</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Salario justo: Obrero no calificado (x) &lt;numeric&gt; 
# total N=18021 valid N=17598 mean=56824639164516384.00 sd=7538211934104444928.00

   Value |    N | Raw % | Valid % | Cum. %
------------------------------------------
    0.00 |    7 |  0.04 |    0.04 |   0.04
    1.00 |    1 |  0.01 |    0.01 |   0.05
20000.00 |    1 |  0.01 |    0.01 |   0.05
25000.00 |    1 |  0.01 |    0.01 |   0.06
40000.00 |    1 |  0.01 |    0.01 |   0.06
50000.00 |    5 |  0.03 |    0.03 |   0.09
60000.00 |    2 |  0.01 |    0.01 |   0.10
80000.00 |    1 |  0.01 |    0.01 |   0.11
1.00e+05 |   10 |  0.06 |    0.06 |   0.16
1.30e+05 |    1 |  0.01 |    0.01 |   0.17
1.50e+05 |    5 |  0.03 |    0.03 |   0.20
1.60e+05 |    1 |  0.01 |    0.01 |   0.20
1.70e+05 |    1 |  0.01 |    0.01 |   0.21
1.80e+05 |    6 |  0.03 |    0.03 |   0.24
1.90e+05 |    2 |  0.01 |    0.01 |   0.26
2.00e+05 |   51 |  0.28 |    0.29 |   0.55
2.10e+05 |    1 |  0.01 |    0.01 |   0.55
2.12e+05 |    2 |  0.01 |    0.01 |   0.56
2.20e+05 |    8 |  0.04 |    0.05 |   0.61
2.24e+05 |    1 |  0.01 |    0.01 |   0.61
2.25e+05 |    1 |  0.01 |    0.01 |   0.62
2.30e+05 |    5 |  0.03 |    0.03 |   0.65
2.40e+05 |   20 |  0.11 |    0.11 |   0.76
2.45e+05 |    2 |  0.01 |    0.01 |   0.77
2.50e+05 |  137 |  0.76 |    0.78 |   1.55
2.56e+05 |    2 |  0.01 |    0.01 |   1.56
2.57e+05 |    3 |  0.02 |    0.02 |   1.58
2.58e+05 |    1 |  0.01 |    0.01 |   1.59
2.60e+05 |    9 |  0.05 |    0.05 |   1.64
2.67e+05 |    1 |  0.01 |    0.01 |   1.64
2.70e+05 |   41 |  0.23 |    0.23 |   1.88
2.71e+05 |    1 |  0.01 |    0.01 |   1.88
2.72e+05 |    1 |  0.01 |    0.01 |   1.89
2.75e+05 |    4 |  0.02 |    0.02 |   1.91
2.76e+05 |    1 |  0.01 |    0.01 |   1.91
2.76e+05 |    1 |  0.01 |    0.01 |   1.92
2.78e+05 |    1 |  0.01 |    0.01 |   1.93
2.80e+05 |   31 |  0.17 |    0.18 |   2.10
2.82e+05 |    1 |  0.01 |    0.01 |   2.11
2.85e+05 |    2 |  0.01 |    0.01 |   2.12
2.86e+05 |    1 |  0.01 |    0.01 |   2.13
2.90e+05 |    7 |  0.04 |    0.04 |   2.17
2.96e+05 |    1 |  0.01 |    0.01 |   2.17
3.00e+05 |  412 |  2.29 |    2.34 |   4.51
3.00e+05 |    1 |  0.01 |    0.01 |   4.52
3.01e+05 |    5 |  0.03 |    0.03 |   4.55
3.10e+05 |    5 |  0.03 |    0.03 |   4.57
3.15e+05 |    1 |  0.01 |    0.01 |   4.58
3.20e+05 |   11 |  0.06 |    0.06 |   4.64
3.25e+05 |    1 |  0.01 |    0.01 |   4.65
3.30e+05 |    4 |  0.02 |    0.02 |   4.67
3.40e+05 |    5 |  0.03 |    0.03 |   4.70
3.45e+05 |    1 |  0.01 |    0.01 |   4.71
3.50e+05 |  470 |  2.61 |    2.67 |   7.38
3.50e+05 |    1 |  0.01 |    0.01 |   7.38
3.55e+05 |    1 |  0.01 |    0.01 |   7.39
3.58e+05 |    1 |  0.01 |    0.01 |   7.39
3.60e+05 |    8 |  0.04 |    0.05 |   7.44
3.70e+05 |   11 |  0.06 |    0.06 |   7.50
3.75e+05 |    1 |  0.01 |    0.01 |   7.51
3.80e+05 |   57 |  0.32 |    0.32 |   7.83
3.85e+05 |    1 |  0.01 |    0.01 |   7.84
3.90e+05 |    3 |  0.02 |    0.02 |   7.85
4.00e+05 | 1502 |  8.33 |    8.54 |  16.39
4.15e+05 |    1 |  0.01 |    0.01 |  16.39
4.20e+05 |   15 |  0.08 |    0.09 |  16.48
4.25e+05 |    1 |  0.01 |    0.01 |  16.48
4.30e+05 |    5 |  0.03 |    0.03 |  16.51
4.40e+05 |    1 |  0.01 |    0.01 |  16.52
4.46e+05 |    1 |  0.01 |    0.01 |  16.52
4.47e+05 |    1 |  0.01 |    0.01 |  16.53
4.50e+05 |  595 |  3.30 |    3.38 |  19.91
4.60e+05 |   17 |  0.09 |    0.10 |  20.01
4.70e+05 |    2 |  0.01 |    0.01 |  20.02
4.80e+05 |   34 |  0.19 |    0.19 |  20.21
4.90e+05 |    2 |  0.01 |    0.01 |  20.22
5.00e+05 | 4593 | 25.49 |   26.10 |  46.32
5.10e+05 |    4 |  0.02 |    0.02 |  46.35
5.20e+05 |    5 |  0.03 |    0.03 |  46.37
5.40e+05 |    3 |  0.02 |    0.02 |  46.39
5.50e+05 |  281 |  1.56 |    1.60 |  47.99
5.60e+05 |   11 |  0.06 |    0.06 |  48.05
5.70e+05 |    2 |  0.01 |    0.01 |  48.06
5.80e+05 |   18 |  0.10 |    0.10 |  48.16
5.90e+05 |    3 |  0.02 |    0.02 |  48.18
5.99e+05 |    1 |  0.01 |    0.01 |  48.19
6.00e+05 | 2714 | 15.06 |   15.42 |  63.61
6.20e+05 |    3 |  0.02 |    0.02 |  63.63
6.30e+05 |    1 |  0.01 |    0.01 |  63.63
6.40e+05 |    1 |  0.01 |    0.01 |  63.64
6.50e+05 |  185 |  1.03 |    1.05 |  64.69
6.70e+05 |    1 |  0.01 |    0.01 |  64.69
6.80e+05 |    5 |  0.03 |    0.03 |  64.72
6.89e+05 |    1 |  0.01 |    0.01 |  64.73
7.00e+05 | 1337 |  7.42 |    7.60 |  72.33
7.20e+05 |    1 |  0.01 |    0.01 |  72.33
7.50e+05 |  114 |  0.63 |    0.65 |  72.98
7.80e+05 |    1 |  0.01 |    0.01 |  72.99
8.00e+05 | 1858 | 10.31 |   10.56 |  83.54
8.01e+05 |    1 |  0.01 |    0.01 |  83.55
8.20e+05 |    1 |  0.01 |    0.01 |  83.55
8.50e+05 |   64 |  0.36 |    0.36 |  83.92
8.80e+05 |    1 |  0.01 |    0.01 |  83.92
8.90e+05 |    1 |  0.01 |    0.01 |  83.93
9.00e+05 |  286 |  1.59 |    1.63 |  85.56
9.20e+05 |    1 |  0.01 |    0.01 |  85.56
9.50e+05 |    9 |  0.05 |    0.05 |  85.61
9.80e+05 |    1 |  0.01 |    0.01 |  85.62
1.00e+06 | 1681 |  9.33 |    9.55 |  95.17
1.08e+06 |    1 |  0.01 |    0.01 |  95.18
1.10e+06 |    5 |  0.03 |    0.03 |  95.20
1.20e+06 |  167 |  0.93 |    0.95 |  96.15
1.25e+06 |    1 |  0.01 |    0.01 |  96.16
1.30e+06 |    8 |  0.04 |    0.05 |  96.20
1.40e+06 |    9 |  0.05 |    0.05 |  96.26
1.45e+06 |    1 |  0.01 |    0.01 |  96.26
1.50e+06 |  289 |  1.60 |    1.64 |  97.90
1.60e+06 |    2 |  0.01 |    0.01 |  97.91
1.75e+06 |    1 |  0.01 |    0.01 |  97.92
1.80e+06 |   11 |  0.06 |    0.06 |  97.98
1.90e+06 |    1 |  0.01 |    0.01 |  97.99
2.00e+06 |  163 |  0.90 |    0.93 |  98.91
2.50e+06 |   12 |  0.07 |    0.07 |  98.98
2.60e+06 |    1 |  0.01 |    0.01 |  98.99
2.80e+06 |    1 |  0.01 |    0.01 |  98.99
3.00e+06 |   40 |  0.22 |    0.23 |  99.22
4.00e+06 |   18 |  0.10 |    0.10 |  99.32
4.50e+06 |    3 |  0.02 |    0.02 |  99.34
4.80e+06 |    1 |  0.01 |    0.01 |  99.35
5.00e+06 |   34 |  0.19 |    0.19 |  99.54
5.50e+06 |    2 |  0.01 |    0.01 |  99.55
6.00e+06 |    9 |  0.05 |    0.05 |  99.60
7.00e+06 |    6 |  0.03 |    0.03 |  99.64
7.50e+06 |    1 |  0.01 |    0.01 |  99.64
8.00e+06 |   12 |  0.07 |    0.07 |  99.71
8.25e+06 |    1 |  0.01 |    0.01 |  99.72
9.00e+06 |    3 |  0.02 |    0.02 |  99.73
1.00e+07 |   15 |  0.08 |    0.09 |  99.82
1.20e+07 |    1 |  0.01 |    0.01 |  99.82
1.50e+07 |    4 |  0.02 |    0.02 |  99.85
2.00e+07 |    5 |  0.03 |    0.03 |  99.87
3.00e+07 |    2 |  0.01 |    0.01 |  99.89
6.00e+07 |    1 |  0.01 |    0.01 |  99.89
7.00e+07 |    1 |  0.01 |    0.01 |  99.90
1.00e+08 |    3 |  0.02 |    0.02 |  99.91
2.50e+08 |    4 |  0.02 |    0.02 |  99.94
3.00e+08 |    2 |  0.01 |    0.01 |  99.95
3.20e+08 |    3 |  0.02 |    0.02 |  99.97
3.50e+08 |    3 |  0.02 |    0.02 |  99.98
3.60e+08 |    1 |  0.01 |    0.01 |  99.99
4.80e+08 |    1 |  0.01 |    0.01 |  99.99
1.00e+21 |    1 |  0.01 |    0.01 | 100.00
    &lt;NA&gt; |  423 |  2.35 |    &lt;NA&gt; |   &lt;NA&gt;</code></pre>
</div>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">db_proc</span> <span class="op">&lt;-</span> <span class="va">db_proc</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>just_sal_obrero<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/replace.html">replace</a></span><span class="op">(</span><span class="va">just_sal_obrero</span>, <span class="va">just_sal_obrero</span> <span class="op">&lt;=</span> <span class="fl">40000</span>  <span class="op">|</span> <span class="va">just_sal_obrero</span><span class="op">&gt;=</span><span class="fl">999999999999999</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>just_sal_gerente<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/replace.html">replace</a></span><span class="op">(</span><span class="va">just_sal_gerente</span>, <span class="va">just_sal_gerente</span> <span class="op">&lt;=</span> <span class="fl">100000</span> <span class="op">|</span> <span class="va">just_sal_gerente</span><span class="op">&gt;=</span><span class="fl">999999999999999</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">db_proc</span><span class="op">$</span><span class="va">just_inequality</span> <span class="op">&lt;-</span> <span class="fu">SciViews</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/SciViews/man/ln.html">ln</a></span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">just_sal_gerente</span><span class="op">/</span><span class="va">db_proc</span><span class="op">$</span><span class="va">just_sal_obrero</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">just_inequality</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
 -6.551   1.204   1.897   1.932   2.639  10.373    1191 </code></pre>
</div>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">db_proc</span><span class="op">$</span><span class="va">just_inequality</span> <span class="op">&lt;-</span> <span class="fu">sjlabelled</span><span class="fu">::</span><span class="fu"><a href="https://strengejacke.github.io/sjlabelled/reference/set_label.html">set_label</a></span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">just_inequality</span>, </span>
<span>                        label <span class="op">=</span> <span class="st">"Inequality gap justification"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># sex</span></span>
<span><span class="va">db_proc</span><span class="op">$</span><span class="va">sex</span> <span class="op">&lt;-</span> <span class="fu">car</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/car/man/recode.html">recode</a></span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">sex</span>, </span>
<span>                           recodes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"1='Male'; 2='Female'"</span><span class="op">)</span>, </span>
<span>                           levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Male"</span>, <span class="st">"Female"</span><span class="op">)</span>,</span>
<span>                           as.factor <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span></span>
<span><span class="va">db_proc</span><span class="op">$</span><span class="va">sex</span> <span class="op">&lt;-</span> <span class="fu">sjlabelled</span><span class="fu">::</span><span class="fu"><a href="https://strengejacke.github.io/sjlabelled/reference/set_label.html">set_label</a></span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">sex</span>, </span>
<span>                        label <span class="op">=</span> <span class="st">"Gender"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># wave </span></span>
<span><span class="va">db_proc</span> <span class="op">&lt;-</span> <span class="va">db_proc</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">rename</span><span class="op">(</span>wave <span class="op">=</span> <span class="va">ola</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>wave <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span><span class="va">wave</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">~</span> <span class="fl">1</span>,</span>
<span>                          <span class="va">wave</span> <span class="op">==</span> <span class="fl">2</span> <span class="op">~</span> <span class="fl">2</span>,</span>
<span>                          <span class="va">wave</span> <span class="op">==</span> <span class="fl">3</span> <span class="op">~</span> <span class="fl">3</span>,</span>
<span>                          <span class="va">wave</span> <span class="op">==</span> <span class="fl">4</span> <span class="op">~</span> <span class="fl">4</span>,</span>
<span>                          <span class="va">wave</span> <span class="op">==</span> <span class="fl">6</span> <span class="op">~</span> <span class="fl">5</span>,</span>
<span>                          <span class="va">wave</span> <span class="op">==</span> <span class="fl">7</span> <span class="op">~</span> <span class="fl">6</span>,</span>
<span>                          <span class="cn">TRUE</span> <span class="op">~</span> <span class="cn">NA_real_</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">db_proc</span><span class="op">$</span><span class="va">wave</span> <span class="op">&lt;-</span> <span class="fu">sjlabelled</span><span class="fu">::</span><span class="fu"><a href="https://strengejacke.github.io/sjlabelled/reference/set_label.html">set_label</a></span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">wave</span>, </span>
<span>                        label <span class="op">=</span> <span class="st">"Wave"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># age</span></span>
<span><span class="fu">frq</span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">age</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Edad del entrevistado (x) &lt;numeric&gt; 
# total N=18021 valid N=18021 mean=48.75 sd=15.47

Value |   N | Raw % | Valid % | Cum. %
--------------------------------------
   18 |  34 |  0.19 |    0.19 |   0.19
   19 |  72 |  0.40 |    0.40 |   0.59
   20 | 108 |  0.60 |    0.60 |   1.19
   21 | 138 |  0.77 |    0.77 |   1.95
   22 | 170 |  0.94 |    0.94 |   2.90
   23 | 200 |  1.11 |    1.11 |   4.01
   24 | 227 |  1.26 |    1.26 |   5.27
   25 | 290 |  1.61 |    1.61 |   6.88
   26 | 273 |  1.51 |    1.51 |   8.39
   27 | 267 |  1.48 |    1.48 |   9.87
   28 | 319 |  1.77 |    1.77 |  11.64
   29 | 302 |  1.68 |    1.68 |  13.32
   30 | 316 |  1.75 |    1.75 |  15.07
   31 | 321 |  1.78 |    1.78 |  16.85
   32 | 323 |  1.79 |    1.79 |  18.64
   33 | 332 |  1.84 |    1.84 |  20.49
   34 | 323 |  1.79 |    1.79 |  22.28
   35 | 321 |  1.78 |    1.78 |  24.06
   36 | 388 |  2.15 |    2.15 |  26.21
   37 | 329 |  1.83 |    1.83 |  28.04
   38 | 353 |  1.96 |    1.96 |  30.00
   39 | 303 |  1.68 |    1.68 |  31.68
   40 | 335 |  1.86 |    1.86 |  33.54
   41 | 333 |  1.85 |    1.85 |  35.39
   42 | 346 |  1.92 |    1.92 |  37.31
   43 | 336 |  1.86 |    1.86 |  39.17
   44 | 311 |  1.73 |    1.73 |  40.90
   45 | 316 |  1.75 |    1.75 |  42.65
   46 | 354 |  1.96 |    1.96 |  44.61
   47 | 364 |  2.02 |    2.02 |  46.63
   48 | 352 |  1.95 |    1.95 |  48.59
   49 | 347 |  1.93 |    1.93 |  50.51
   50 | 386 |  2.14 |    2.14 |  52.66
   51 | 372 |  2.06 |    2.06 |  54.72
   52 | 402 |  2.23 |    2.23 |  56.95
   53 | 354 |  1.96 |    1.96 |  58.91
   54 | 404 |  2.24 |    2.24 |  61.16
   55 | 427 |  2.37 |    2.37 |  63.53
   56 | 440 |  2.44 |    2.44 |  65.97
   57 | 389 |  2.16 |    2.16 |  68.13
   58 | 401 |  2.23 |    2.23 |  70.35
   59 | 387 |  2.15 |    2.15 |  72.50
   60 | 406 |  2.25 |    2.25 |  74.75
   61 | 356 |  1.98 |    1.98 |  76.73
   62 | 331 |  1.84 |    1.84 |  78.56
   63 | 334 |  1.85 |    1.85 |  80.42
   64 | 300 |  1.66 |    1.66 |  82.08
   65 | 310 |  1.72 |    1.72 |  83.80
   66 | 289 |  1.60 |    1.60 |  85.41
   67 | 287 |  1.59 |    1.59 |  87.00
   68 | 215 |  1.19 |    1.19 |  88.19
   69 | 226 |  1.25 |    1.25 |  89.45
   70 | 248 |  1.38 |    1.38 |  90.82
   71 | 228 |  1.27 |    1.27 |  92.09
   72 | 196 |  1.09 |    1.09 |  93.17
   73 | 205 |  1.14 |    1.14 |  94.31
   74 | 221 |  1.23 |    1.23 |  95.54
   75 | 216 |  1.20 |    1.20 |  96.74
   76 | 164 |  0.91 |    0.91 |  97.65
   77 | 117 |  0.65 |    0.65 |  98.30
   78 |  80 |  0.44 |    0.44 |  98.74
   79 |  85 |  0.47 |    0.47 |  99.21
   80 |  54 |  0.30 |    0.30 |  99.51
   81 |  37 |  0.21 |    0.21 |  99.72
   82 |  18 |  0.10 |    0.10 |  99.82
   83 |   8 |  0.04 |    0.04 |  99.86
   84 |  10 |  0.06 |    0.06 |  99.92
   85 |   2 |  0.01 |    0.01 |  99.93
   86 |   1 |  0.01 |    0.01 |  99.93
   87 |   2 |  0.01 |    0.01 |  99.94
   88 |   3 |  0.02 |    0.02 |  99.96
   89 |   3 |  0.02 |    0.02 |  99.98
   90 |   2 |  0.01 |    0.01 |  99.99
   91 |   1 |  0.01 |    0.01 |  99.99
   92 |   1 |  0.01 |    0.01 | 100.00
 &lt;NA&gt; |   0 |  0.00 |    &lt;NA&gt; |   &lt;NA&gt;</code></pre>
</div>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">db_proc</span><span class="op">$</span><span class="va">age</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu">car</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/car/man/recode.html">recode</a></span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">age</span>, </span>
<span>                     <span class="st">"18:29=1;30:49=2;50:64=3;65:150=4"</span><span class="op">)</span>,</span>
<span>         labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'18-29'</span>, <span class="st">'30-49'</span>, <span class="st">'50-64'</span>, <span class="st">'65 or more'</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">db_proc</span><span class="op">$</span><span class="va">age</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">sjlabelled</span><span class="fu">::</span><span class="fu"><a href="https://strengejacke.github.io/sjlabelled/reference/set_label.html">set_label</a></span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">age</span>, </span>
<span>                        label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Age groups"</span><span class="op">)</span><span class="op">)</span> </span>
<span></span>
<span><span class="co"># political indentification</span></span>
<span></span>
<span><span class="fu">frq</span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">ideo</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Autoubicacion escala izquierda-derecha (x) &lt;numeric&gt; 
# total N=18021 valid N=17760 mean=7.53 sd=3.97

Value |                                 Label |    N | Raw % | Valid % | Cum. %
-------------------------------------------------------------------------------
 -999 |                           No Responde |    0 |  0.00 |    0.00 |   0.00
 -888 |                               No Sabe |    0 |  0.00 |    0.00 |   0.00
 -777 |       Valor perdido por error tecnico |    0 |  0.00 |    0.00 |   0.00
 -666 | Valor perdido por encuesta incompleta |    0 |  0.00 |    0.00 |   0.00
    0 |                           0 Izquierda |  928 |  5.15 |    5.23 |   5.23
    1 |                                     1 |  347 |  1.93 |    1.95 |   7.18
    2 |                                     2 |  545 |  3.02 |    3.07 |  10.25
    3 |                                     3 |  864 |  4.79 |    4.86 |  15.11
    4 |                                     4 | 1024 |  5.68 |    5.77 |  20.88
    5 |                              5 Centro | 4408 | 24.46 |   24.82 |  45.70
    6 |                                     6 |  637 |  3.53 |    3.59 |  49.28
    7 |                                     7 |  637 |  3.53 |    3.59 |  52.87
    8 |                                     8 |  543 |  3.01 |    3.06 |  55.93
    9 |                                     9 |  166 |  0.92 |    0.93 |  56.86
   10 |                            10 Derecha |  937 |  5.20 |    5.28 |  62.14
   11 |                      11 Independiente |  670 |  3.72 |    3.77 |  65.91
   12 |                            12 Ninguno | 6054 | 33.59 |   34.09 | 100.00
 &lt;NA&gt; |                                  &lt;NA&gt; |  261 |  1.45 |    &lt;NA&gt; |   &lt;NA&gt;</code></pre>
</div>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">db_proc</span><span class="op">$</span><span class="va">ideo</span><span class="op">&lt;-</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span></span>
<span>  <span class="fu">car</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/car/man/recode.html">recode</a></span><span class="op">(</span></span>
<span>    <span class="va">db_proc</span><span class="op">$</span><span class="va">ideo</span>,</span>
<span>    <span class="st">"c(11,12,-888,-999)='Does not identify';c(0,1,2,3,4)='Left';</span></span>
<span><span class="st">     c(5)='Center';c(6,7,8,9,10)='Right'"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'Left'</span>, <span class="st">'Center'</span>, <span class="st">'Right'</span>, <span class="st">'Does not identify'</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">db_proc</span><span class="op">$</span><span class="va">ideo</span><span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">ideo</span>,levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">ideo</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">db_proc</span><span class="op">$</span><span class="va">ideo</span> <span class="op">&lt;-</span> </span>
<span><span class="fu">sjlabelled</span><span class="fu">::</span><span class="fu"><a href="https://strengejacke.github.io/sjlabelled/reference/set_label.html">set_label</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">db_proc</span><span class="op">$</span><span class="va">ideo</span>, </span>
<span>                      label <span class="op">=</span> <span class="st">"Political identification"</span><span class="op">)</span> </span>
<span></span>
<span><span class="fu">frq</span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">ideo</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Political identification (x) &lt;categorical&gt; 
# total N=18021 valid N=17760 mean=2.71 sd=1.17

Value             |    N | Raw % | Valid % | Cum. %
---------------------------------------------------
Left              | 3708 | 20.58 |   20.88 |  20.88
Center            | 4408 | 24.46 |   24.82 |  45.70
Right             | 2920 | 16.20 |   16.44 |  62.14
Does not identify | 6724 | 37.31 |   37.86 | 100.00
&lt;NA&gt;              |  261 |  1.45 |    &lt;NA&gt; |   &lt;NA&gt;</code></pre>
</div>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># ess</span></span>
<span><span class="fu">sjmisc</span><span class="fu">::</span><span class="fu"><a href="https://strengejacke.github.io/sjmisc/reference/frq.html">frq</a></span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">ess</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Estatus Social Subjetivo: Donde se ubicaria ud. en la sociedad chilena (x) &lt;numeric&gt; 
# total N=18021 valid N=17926 mean=4.41 sd=1.60

Value |                                 Label |    N | Raw % | Valid % | Cum. %
-------------------------------------------------------------------------------
 -999 |                           No Responde |    0 |  0.00 |    0.00 |   0.00
 -888 |                               No Sabe |    0 |  0.00 |    0.00 |   0.00
 -777 |       Valor perdido por error tecnico |    0 |  0.00 |    0.00 |   0.00
 -666 | Valor perdido por encuesta incompleta |    0 |  0.00 |    0.00 |   0.00
    0 |                   0 El nivel mas bajo |  369 |  2.05 |    2.06 |   2.06
    1 |                                     1 |  488 |  2.71 |    2.72 |   4.78
    2 |                                     2 | 1004 |  5.57 |    5.60 |  10.38
    3 |                                     3 | 2435 | 13.51 |   13.58 |  23.97
    4 |                                     4 | 3996 | 22.17 |   22.29 |  46.26
    5 |                                     5 | 6765 | 37.54 |   37.74 |  84.00
    6 |                                     6 | 1656 |  9.19 |    9.24 |  93.23
    7 |                                     7 |  571 |  3.17 |    3.19 |  96.42
    8 |                                     8 |  440 |  2.44 |    2.45 |  98.87
    9 |                                     9 |   66 |  0.37 |    0.37 |  99.24
   10 |                  10 El nivel mas alto |  136 |  0.75 |    0.76 | 100.00
 &lt;NA&gt; |                                  &lt;NA&gt; |   95 |  0.53 |    &lt;NA&gt; |   &lt;NA&gt;</code></pre>
</div>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">db_proc</span><span class="op">$</span><span class="va">ess</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">ess</span><span class="op">)</span></span>
<span></span>
<span><span class="va">db_proc</span><span class="op">$</span><span class="va">ess</span> <span class="op">&lt;-</span>  <span class="fu">sjlabelled</span><span class="fu">::</span><span class="fu"><a href="https://strengejacke.github.io/sjlabelled/reference/set_label.html">set_label</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">db_proc</span><span class="op">$</span><span class="va">ess</span>,</span>
<span>                      label <span class="op">=</span> <span class="st">"Subjective Social Status"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># educ</span></span>
<span><span class="fu">frq</span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">m01</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Nivel educacional (x) &lt;numeric&gt; 
# total N=18021 valid N=18006 mean=5.28 sd=2.23

Value |                                       Label |    N | Raw % | Valid % | Cum. %
-------------------------------------------------------------------------------------
 -999 |                                 No Responde |    0 |  0.00 |    0.00 |   0.00
 -888 |                                     No Sabe |    0 |  0.00 |    0.00 |   0.00
 -777 |             Valor perdido por error tecnico |    0 |  0.00 |    0.00 |   0.00
 -666 |       Valor perdido por encuesta incompleta |    0 |  0.00 |    0.00 |   0.00
    1 |                                Sin estudios |  182 |  1.01 |    1.01 |   1.01
    2 |  Educacion Basica o Preparatoria incompleta | 2132 | 11.83 |   11.84 |  12.85
    3 |    Educacion Basica o Preparatoria completa | 1749 |  9.71 |    9.71 |  22.56
    4 |    Educacion Media o Humanidades incompleta | 2338 | 12.97 |   12.98 |  35.55
    5 |      Educacion Media o Humanidades completa | 5303 | 29.43 |   29.45 |  65.00
    6 |                 Tecnica Superior incompleta |  656 |  3.64 |    3.64 |  68.64
    7 |                   Tecnica Superior completa | 2264 | 12.56 |   12.57 |  81.22
    8 |                    Universitaria incompleta | 1030 |  5.72 |    5.72 |  86.94
    9 |                      Universitaria completa | 2053 | 11.39 |   11.40 |  98.34
   10 | Estudios de posgrado (magister o doctorado) |  299 |  1.66 |    1.66 | 100.00
 &lt;NA&gt; |                                        &lt;NA&gt; |   15 |  0.08 |    &lt;NA&gt; |   &lt;NA&gt;</code></pre>
</div>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">db_proc</span><span class="op">$</span><span class="va">educ</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu">car</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/car/man/recode.html">recode</a></span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">m01</span>,</span>
<span>              <span class="st">"c(1,2,3,4,5,6,7)=1;c(8,9,10)=2; c(-888,-999)=NA"</span><span class="op">)</span></span>
<span><span class="va">db_proc</span><span class="op">$</span><span class="va">educ</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">educ</span>,</span>
<span>         labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Less than Universitary"</span>,<span class="st">"Universitary"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">db_proc</span><span class="op">$</span><span class="va">educ</span> <span class="op">&lt;-</span> </span>
<span><span class="fu">sjlabelled</span><span class="fu">::</span><span class="fu"><a href="https://strengejacke.github.io/sjlabelled/reference/set_label.html">set_label</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">db_proc</span><span class="op">$</span><span class="va">educ</span>,</span>
<span>                      label <span class="op">=</span> <span class="st">"Education"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#Recoding of education to years based on casen 2017.</span></span>
<span><span class="va">db_proc</span><span class="op">$</span><span class="va">educyear</span><span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span></span>
<span>  <span class="fu">car</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/car/man/recode.html">recode</a></span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">m01</span>, </span>
<span>              <span class="st">"1=0;2=4.3;3=7.5;4=9.8;5=12.02;6=13.9;</span></span>
<span><span class="st">               7=14.8;8=14.9;9=16.9;10=19.07;c(-888,-999)=NA"</span>, </span>
<span>              as.numeric <span class="op">=</span> <span class="cn">T</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">db_proc</span><span class="op">$</span><span class="va">educyear</span> <span class="op">&lt;-</span> </span>
<span><span class="fu">sjlabelled</span><span class="fu">::</span><span class="fu"><a href="https://strengejacke.github.io/sjlabelled/reference/set_label.html">set_label</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">db_proc</span><span class="op">$</span><span class="va">educyear</span>,</span>
<span>                      label <span class="op">=</span> <span class="st">"Education in years"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">educyear</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">frq</span><span class="op">(</span><span class="va">db_proc</span><span class="op">$</span><span class="va">educyear</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Education in years (x) &lt;numeric&gt; 
# total N=18021 valid N=18006 mean=11.51 sd=4.00

Value |    N | Raw % | Valid % | Cum. %
---------------------------------------
 0.00 |  182 |  1.01 |    1.01 |   1.01
 4.30 | 2132 | 11.83 |   11.84 |  12.85
 7.50 | 1749 |  9.71 |    9.71 |  22.56
 9.80 | 2338 | 12.97 |   12.98 |  35.55
12.02 | 5303 | 29.43 |   29.45 |  65.00
13.90 |  656 |  3.64 |    3.64 |  68.64
14.80 | 2264 | 12.56 |   12.57 |  81.22
14.90 | 1030 |  5.72 |    5.72 |  86.94
16.90 | 2053 | 11.39 |   11.40 |  98.34
19.07 |  299 |  1.66 |    1.66 | 100.00
 &lt;NA&gt; |   15 |  0.08 |    &lt;NA&gt; |   &lt;NA&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Household income----------------------------------------------------------------</span></span>
<span></span>
<span><span class="co"># Ltop is the lower limit of the top category, Ltop-1 is the lower limit of the category before the</span></span>
<span><span class="co"># top one, ftop is the frequency in the top category, and ftop-1 is the frequency in the</span></span>
<span><span class="co"># category before the top one.</span></span>
<span></span>
<span><span class="fu">sjmisc</span><span class="fu">::</span><span class="fu"><a href="https://strengejacke.github.io/sjmisc/reference/frq.html">frq</a></span><span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">m30</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Ingreso total del hogar (en 20 tramos) (x) &lt;numeric&gt; 
# total N=20761 valid N=4825 mean=-120.34 sd=330.86

Value |                                         Label |     N | Raw % | Valid % | Cum. %
----------------------------------------------------------------------------------------
 -999 |                                   No Responde |   424 |  2.04 |    8.79 |   8.79
 -888 |                                       No Sabe |   221 |  1.06 |    4.58 |  13.37
 -777 |               Valor perdido por error tecnico |     0 |  0.00 |    0.00 |  13.37
 -666 |         Valor perdido por encuesta incompleta |     0 |  0.00 |    0.00 |  13.37
    1 |          Menos de $220.000 mensuales liquidos |   332 |  1.60 |    6.88 |  20.25
    2 |     De $220.001 a $280.000 mensuales liquidos |   259 |  1.25 |    5.37 |  25.62
    3 |     De $280.001 a $330.000 mensuales liquidos |   267 |  1.29 |    5.53 |  31.15
    4 |     De $330.001 a $380.000 mensuales liquidos |   219 |  1.05 |    4.54 |  35.69
    5 |     De $380.001 a $420.000 mensuales liquidos |   296 |  1.43 |    6.13 |  41.82
    6 |     De $420.001 a $470.000 mensuales liquidos |   225 |  1.08 |    4.66 |  46.49
    7 |     De $470.001 a $510.000 mensuales liquidos |   326 |  1.57 |    6.76 |  53.24
    8 |     De $510.001 a $560.000 mensuales liquidos |   145 |  0.70 |    3.01 |  56.25
    9 |     De $560.001 a $610.000 mensuales liquidos |   253 |  1.22 |    5.24 |  61.49
   10 |     De $610.001 a $670.000 mensuales liquidos |   125 |  0.60 |    2.59 |  64.08
   11 |     De $670.001 a $730.000 mensuales liquidos |   184 |  0.89 |    3.81 |  67.90
   12 |     De $730.001 a $800.000 mensuales liquidos |   196 |  0.94 |    4.06 |  71.96
   13 |     De $800.001 a $890.000 mensuales liquidos |   129 |  0.62 |    2.67 |  74.63
   14 |     De $890.001 a $980.000 mensuales liquidos |   118 |  0.57 |    2.45 |  77.08
   15 |   De $980.001 a $1.100.000 mensuales liquidos |   249 |  1.20 |    5.16 |  82.24
   16 | De $1.100.001 a $1.260.000 mensuales liquidos |   175 |  0.84 |    3.63 |  85.87
   17 | De $1.260.001 a $1.490.000 mensuales liquidos |   124 |  0.60 |    2.57 |  88.44
   18 | De $1.490.001 a $1.850.000 mensuales liquidos |   219 |  1.05 |    4.54 |  92.97
   19 | De $1.850.001 a $2.700.000 mensuales liquidos |   191 |  0.92 |    3.96 |  96.93
   20 |        Mas de $2.700.000 a mensuales liquidos |   148 |  0.71 |    3.07 | 100.00
 &lt;NA&gt; |                                          &lt;NA&gt; | 15936 | 76.76 |    &lt;NA&gt; |   &lt;NA&gt;</code></pre>
</div>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">Ltop_1</span><span class="op">&lt;-</span> <span class="fl">1850001</span></span>
<span><span class="va">Ltop</span>  <span class="op">&lt;-</span> <span class="fl">2700000</span></span>
<span></span>
<span><span class="va">ftop_1</span> <span class="op">&lt;-</span> <span class="fl">42</span></span>
<span><span class="va">ftop</span>   <span class="op">&lt;-</span> <span class="fl">34</span></span>
<span></span>
<span><span class="va">V</span>  <span class="op">=</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="va">ftop_1</span> <span class="op">+</span> <span class="va">ftop</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="va">ftop</span><span class="op">)</span><span class="op">)</span> <span class="op">/</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="va">Ltop</span><span class="op">)</span> <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="va">Ltop_1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">M_top</span> <span class="op">=</span> <span class="fl">0.5</span><span class="op">*</span> <span class="va">Ltop</span> <span class="op">*</span><span class="op">(</span><span class="fl">1</span><span class="op">+</span><span class="op">(</span><span class="va">V</span><span class="op">/</span><span class="op">(</span><span class="va">V</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>;<span class="va">M_top</span> <span class="co"># = $3.897.232</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3897232</code></pre>
</div>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#Impute midpoint of income ranges</span></span>
<span><span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">m30_rec</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="fu">car</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/car/man/recode.html">recode</a></span><span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">m30</span>,</span>
<span>                         <span class="st">"1=110000;2=251000;3=305000;4=355000;5=400000;</span></span>
<span><span class="st">            6=445000;7=490000;8=535000;9=585000;10=640000;11=700000;12=765000;</span></span>
<span><span class="st">            13=845000;14=935000;15=1040000;16=1180000;17=1375000;18=1670000;</span></span>
<span><span class="st">            19=2275000;20=3897232;NA=NA;c(-888,-999)=NA"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">m30_rec</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
 110000  355000  585000  826707 1040000 3897232   16581 </code></pre>
</div>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#Impute midpoint of income ranges (2021)</span></span>
<span></span>
<span><span class="fu">frq</span><span class="op">(</span><span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">m30b</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Ingreso total del hogar (en 5 tramos) (x) &lt;numeric&gt; 
# total N=20761 valid N=248 mean=-228.60 sd=406.42

Value |                                              Label |     N | Raw %
--------------------------------------------------------------------------
 -999 |                                        No Responde |    27 |  0.13
 -888 |                                            No Sabe |    34 |  0.16
 -777 |                    Valor perdido por error tecnico |     0 |  0.00
 -666 |              Valor perdido por encuesta incompleta |     0 |  0.00
    1 |         Menos de $250.000 pesos mensuales liquidos |    58 |  0.28
    2 | Entre $250.000 y $350.000 pesos mensuales liquidos |    45 |  0.22
    3 | Entre $350.000 y $450.000 pesos mensuales liquidos |    39 |  0.19
    4 | Entre $450.000 y $700.000 pesos mensuales liquidos |    18 |  0.09
    5 |            Mas de 700.000 pesos mensuales liquidos |    27 |  0.13
 &lt;NA&gt; |                                               &lt;NA&gt; | 20513 | 98.81

Value | Valid % | Cum. %
------------------------
 -999 |   10.89 |  10.89
 -888 |   13.71 |  24.60
 -777 |    0.00 |  24.60
 -666 |    0.00 |  24.60
    1 |   23.39 |  47.98
    2 |   18.15 |  66.13
    3 |   15.73 |  81.85
    4 |    7.26 |  89.11
    5 |   10.89 | 100.00
 &lt;NA&gt; |    &lt;NA&gt; |   &lt;NA&gt;</code></pre>
</div>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">Ltop_1</span><span class="op">&lt;-</span> <span class="fl">450000</span></span>
<span><span class="va">Ltop</span>  <span class="op">&lt;-</span> <span class="fl">700000</span></span>
<span><span class="va">ftop_1</span> <span class="op">&lt;-</span> <span class="fl">18</span></span>
<span><span class="va">ftop</span>   <span class="op">&lt;-</span> <span class="fl">27</span></span>
<span></span>
<span><span class="va">V</span>  <span class="op">=</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="va">ftop_1</span> <span class="op">+</span> <span class="va">ftop</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="va">ftop</span><span class="op">)</span><span class="op">)</span> <span class="op">/</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="va">Ltop</span><span class="op">)</span> <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="va">Ltop_1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">M_top</span> <span class="op">=</span> <span class="fl">0.5</span><span class="op">*</span> <span class="va">Ltop</span> <span class="op">*</span><span class="op">(</span><span class="fl">1</span><span class="op">+</span><span class="op">(</span><span class="va">V</span><span class="op">/</span><span class="op">(</span><span class="va">V</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="co"># = $2.941.412</span></span>
<span></span>
<span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">m30b_rec</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="fu">car</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/car/man/recode.html">recode</a></span><span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">m30b</span>,</span>
<span>                         <span class="st">"1=125000;2=300000;3=400000;4=575000;5=2941412;NA=NA;c(-888,-999)=NA"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">m30b_rec</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
 125000  125000  300000  674428  400000 2941412   20574 </code></pre>
</div>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Combine m30_rec with m30b_rec</span></span>
<span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">m30_rec</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">m30_rec</span><span class="op">)</span>,</span>
<span>         yes <span class="op">=</span>  <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">m30b_rec</span>,</span>
<span>         no <span class="op">=</span>  <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">m30_rec</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">m30_rec</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
 110000  355000  535000  820186 1040000 3897232   16394 </code></pre>
</div>
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#Recode DK/DA of Income to NA</span></span>
<span><span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">m29_rec</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="fu">car</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/car/man/recode.html">recode</a></span><span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">m29</span>,<span class="st">"c(-888,-999)=NA"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#replace NA of income with new imputed variable</span></span>
<span><span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">m29_imp</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span>test <span class="op">=</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">m29_rec</span><span class="op">)</span>,</span>
<span>         yes <span class="op">=</span>   <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">m29_rec</span>,</span>
<span>         no <span class="op">=</span>   <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">m30_rec</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">m29_imp</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      Min.    1st Qu.     Median       Mean    3rd Qu.       Max.       NA's 
      -777     300000     500000     960751     800000 4000000000        690 </code></pre>
</div>
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#  elsoc_long_2016_2023$m29_imp &lt;- </span></span>
<span><span class="co">#   ifelse(test = is.na( elsoc_long_2016_2023$m29_imp),</span></span>
<span><span class="co">#          yes =   elsoc_long_2016_2023$m30b_rec,</span></span>
<span><span class="co">#          no =   elsoc_long_2016_2023$m29_imp)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">m29_imp</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      Min.    1st Qu.     Median       Mean    3rd Qu.       Max.       NA's 
      -777     300000     500000     960751     800000 4000000000        690 </code></pre>
</div>
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># N Household:</span></span>
<span><span class="va">elsoc_long_2016_2023</span> <span class="op">&lt;-</span></span>
<span>   <span class="va">elsoc_long_2016_2023</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>n_hogar <span class="op">=</span></span>
<span>           <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html">case_when</a></span><span class="op">(</span><span class="va">ola</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">~</span> <span class="va">nhogar1</span>,</span>
<span>                            <span class="va">ola</span> <span class="op">==</span> <span class="fl">2</span> <span class="op">~</span> <span class="va">m46_nhogar</span>,</span>
<span>                            <span class="va">ola</span> <span class="op">==</span> <span class="fl">3</span> <span class="op">~</span> <span class="va">m54</span>,</span>
<span>                            <span class="va">ola</span> <span class="op">==</span> <span class="fl">4</span> <span class="op">~</span> <span class="va">m54</span>,</span>
<span>                            <span class="va">ola</span> <span class="op">==</span> <span class="fl">5</span> <span class="op">~</span> <span class="va">m54</span>,</span>
<span>                            <span class="va">ola</span> <span class="op">==</span> <span class="fl">6</span> <span class="op">~</span> <span class="va">m54</span>,</span>
<span>                            <span class="va">ola</span> <span class="op">==</span> <span class="fl">7</span> <span class="op">~</span> <span class="va">m54</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">n_hogar</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    Min.  1st Qu.   Median     Mean  3rd Qu.     Max.     NA's 
-999.000    2.000    3.000    1.746    4.000   15.000     3054 </code></pre>
</div>
<div class="sourceCode" id="cb61"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#imputar tamanio del hogar de ola 5 a ola 6</span></span>
<span><span class="va">elsoc_long_2016_2023</span> <span class="op">&lt;-</span> </span>
<span>   <span class="va">elsoc_long_2016_2023</span> <span class="op">%&gt;%</span>  </span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">idencuesta</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>n_hogar <span class="op">=</span> <span class="fu">if_else</span><span class="op">(</span><span class="va">ola</span> <span class="op">==</span> <span class="fl">6</span> <span class="op">&amp;</span> <span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">n_hogar</span><span class="op">)</span>, <span class="fu">last</span><span class="op">(</span><span class="va">n_hogar</span><span class="op">[</span><span class="va">ola</span> <span class="op">==</span> <span class="fl">5</span><span class="op">]</span><span class="op">)</span>, <span class="va">n_hogar</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">ungroup</span><span class="op">(</span><span class="op">)</span> </span>
<span></span>
<span><span class="fu">sjmisc</span><span class="fu">::</span><span class="fu"><a href="https://strengejacke.github.io/sjmisc/reference/frq.html">frq</a></span><span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">n_hogar</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>x &lt;numeric&gt; 
# total N=20761 valid N=19969 mean=1.87 sd=35.14

Value |    N | Raw % | Valid % | Cum. %
---------------------------------------
 -999 |   19 |  0.09 |    0.10 |   0.10
 -888 |    7 |  0.03 |    0.04 |   0.13
    1 | 2854 | 13.75 |   14.29 |  14.42
    2 | 4926 | 23.73 |   24.67 |  39.09
    3 | 4664 | 22.47 |   23.36 |  62.45
    4 | 4066 | 19.58 |   20.36 |  82.81
    5 | 2029 |  9.77 |   10.16 |  92.97
    6 |  826 |  3.98 |    4.14 |  97.11
    7 |  327 |  1.58 |    1.64 |  98.74
    8 |  151 |  0.73 |    0.76 |  99.50
    9 |   47 |  0.23 |    0.24 |  99.73
   10 |   29 |  0.14 |    0.15 |  99.88
   11 |   10 |  0.05 |    0.05 |  99.93
   12 |    8 |  0.04 |    0.04 |  99.97
   13 |    2 |  0.01 |    0.01 |  99.98
   14 |    2 |  0.01 |    0.01 |  99.99
   15 |    2 |  0.01 |    0.01 | 100.00
 &lt;NA&gt; |  792 |  3.81 |    &lt;NA&gt; |   &lt;NA&gt;</code></pre>
</div>
<div class="sourceCode" id="cb63"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">n_hogar</span>, <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">ola</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      
         1   2   3   4   5   6   7
  -999   0   0   3   6   1   1   8
  -888   0   0   4   0   0   0   3
  1    429 580 556 396 299 252 342
  2    749 576 852 808 652 550 739
  3    690 549 872 782 641 516 614
  4    584 288 791 750 608 495 550
  5    295  95 415 385 314 263 262
  6    111  44 148 183 125 102 113
  7     38   4  69  52  62  50  52
  8     23   8  20  33  24  19  24
  9      5   3   8  10   7   7   7
  10     1   2   7   6   3   3   7
  11     0   0   1   5   1   1   2
  12     0   0   1   0   2   2   3
  13     1   0   0   1   0   0   0
  14     1   0   1   0   0   0   0
  15     0   0   0   0   1   1   0</code></pre>
</div>
<div class="sourceCode" id="cb65"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#Recode DK/DA to NA</span></span>
<span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">n_hogar_r</span><span class="op">&lt;-</span></span>
<span>  <span class="fu">car</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/car/man/recode.html">recode</a></span><span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">n_hogar</span>,<span class="st">"c(-888,-999)=NA"</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">m13</span>, <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">n_hogar_r</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           
              1   2   3   4   5   6   7   8   9  10  11  12  13  14  15
  -999       87 123 128 127  35  16   8   2   1   0   0   1   0   0   0
  -888       63 105 139 108  59  14   9   1   1   1   0   0   0   0   0
  0           4   8   6   8   1   0   0   0   0   0   0   0   0   0   0
  2           0   0   0   0   1   0   0   0   0   0   0   0   0   0   0
  10          1   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  256         0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  1500        0   0   2   0   0   0   0   0   0   0   0   0   0   0   0
  10000       1   1   0   2   0   0   0   0   0   0   0   0   0   0   0
  11000       0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  12000       3   0   0   1   0   0   1   0   0   0   0   0   0   0   0
  15000       0   1   2   1   0   0   0   0   0   0   0   0   0   0   0
  20000       2   6   2   8   1   0   0   0   0   0   0   0   0   0   0
  21000       0   0   0   0   1   0   0   0   0   0   0   0   0   0   0
  25000       0   4   2   1   0   0   1   0   0   0   0   0   0   0   0
  30000       3   4  10   5   2   1   2   1   0   0   0   0   0   0   0
  33000       1   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  35000       0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  39000       0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  40000       7  10   7   8   1   1   1   0   0   0   0   0   0   0   0
  45000       1   0   1   1   0   1   0   0   0   0   0   0   0   0   0
  48000       1   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  50000      11  20   9  12   7   7   2   0   0   0   0   0   0   0   0
  52000       0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  55000       0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  60000       4  12  12  12   7   1   1   0   0   0   0   0   0   0   0
  65000       0   0   1   1   0   0   0   1   0   0   0   0   0   0   0
  66000       0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  67000       0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  68000       1   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  70000       4   8   7   5   2   2   1   0   0   0   0   0   0   0   0
  75000       0   0   2   0   2   0   0   0   0   0   0   0   0   0   0
  78000       0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  80000      11  21  14  11  10   4   0   1   0   0   0   0   0   0   0
  84000       0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  85000       0   2   1   1   0   0   0   0   0   0   0   0   0   0   0
  90000       1   7   4   6   1   1   2   1   0   0   0   0   0   0   0
  92000       0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  95000       0   1   0   1   0   0   0   0   0   0   0   0   0   0   0
  96000       1   0   1   5   0   0   0   0   0   0   0   0   0   0   0
  97000       0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  100000     23  48  40  39  18  11   0   1   0   0   0   0   0   0   0
  101000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  102000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  105000      0   1   1   0   1   0   0   0   0   0   0   0   0   0   0
  107000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  109000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  110000      2   0   2   0   0   1   0   0   0   0   1   0   0   0   0
  111000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  112000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  114000      0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  114444      0   0   0   0   1   0   0   0   0   0   0   0   0   0   0
  115000      0   1   1   0   0   0   0   0   0   0   0   0   0   0   0
  120000     11  34  20  29  13   3   5   0   0   0   0   0   0   0   0
  120008      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  122000      0   1   2   0   0   0   0   0   0   0   0   0   0   0   0
  123000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  125000      0   2   2   4   0   0   0   0   0   0   0   0   0   0   0
  127000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  128000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  130000      3   5   6   8   2   1   1   0   0   0   0   0   0   0   0
  135000      1   0   0   1   1   1   0   0   0   0   0   0   0   0   0
  136000      0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  137000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  140000      5   4   4   3   3   0   0   0   0   0   0   0   0   0   0
  144000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  145000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  146000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  150000     21  46  51  41  27   6   3   2   1   0   0   0   0   0   0
  155000      0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  156000      0   1   1   0   0   0   0   0   0   0   0   0   0   0   0
  160000      6  15  10  10   4   3   0   0   0   0   0   0   0   0   0
  162000      0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  165000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  168000      0   1   0   0   1   0   0   0   0   0   0   0   0   0   0
  170000      2   8   3   4   1   2   0   0   0   0   0   0   0   0   0
  176000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  179000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  180000     11  24  21  24   4   5   2   1   0   0   0   0   0   0   0
  182000      0   0   1   1   0   0   0   0   0   0   0   0   0   0   0
  183000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  185000      0   1   2   0   1   0   0   0   0   0   0   0   0   0   0
  190000      4   3   3   5   3   0   1   0   0   0   0   0   0   0   0
  194000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  198000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  200000     58 105 115  92  45  14   4   6   0   0   0   0   0   0   0
  203000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  206000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  207000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  208000      0   0   1   2   0   0   0   0   0   0   0   0   0   0   0
  210000      4   2   2   3   4   0   0   0   0   0   0   0   0   0   0
  212000      0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  213000      0   0   1   1   0   0   0   0   0   0   0   0   0   0   0
  215000      1   1   1   1   0   0   0   0   0   0   0   0   0   0   0
  216000      0   1   1   2   0   0   0   0   0   0   0   0   0   0   0
  219000      0   0   0   0   1   0   0   0   0   0   0   0   0   0   0
  220000      6   9  13   6   3   3   0   0   0   0   0   0   0   0   0
  222000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  224000      0   0   1   1   0   0   0   0   0   0   0   0   0   0   0
  225000      0   1   1   0   0   0   1   0   0   0   0   0   0   0   0
  228000      0   0   1   0   0   0   1   0   0   0   0   0   0   0   0
  230000      2   7  14   5   5   2   2   0   0   0   0   0   0   0   0
  233000      1   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  235000      2   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  238000      0   0   0   0   0   0   0   1   0   0   0   0   0   0   0
  239000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  240000     10  18  23  21   6   3   1   0   0   0   0   0   0   0   0
  241000      0   0   3   0   0   0   0   0   0   0   0   0   0   0   0
  245000      1   0   0   0   1   0   0   0   0   0   0   0   0   0   0
  246000      1   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  249000      0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  250000     44  94  89  69  34  14   2   2   1   0   0   0   0   0   0
  251000      0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  252000      0   0   1   0   2   0   0   0   0   0   0   0   0   0   0
  255000      1   2   1   1   0   0   0   0   0   0   0   0   0   0   0
  257000      0   2   2   4   0   1   1   0   0   0   0   0   0   0   0
  257500      0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  258000      1   0   0   2   0   0   0   0   0   0   0   0   0   0   0
  260000      9  16  15   5   2   4   1   1   0   0   0   0   0   0   0
  261000      0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  263000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  264000      0   0   0   0   0   0   1   0   0   0   0   0   0   0   0
  265000      2   1   1   1   0   0   0   0   0   0   0   0   0   0   0
  266000      1   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  267000      0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  268000      0   0   1   1   0   1   0   0   0   0   0   0   0   0   0
  270000     23  36  43  22   8   6   0   2   1   0   0   0   0   0   0
  272000      1   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  273000      1   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  275000      2   4   5   2   3   0   0   0   0   0   0   0   0   0   0
  276000      3   4   6   3   3   0   0   0   0   0   0   0   0   0   0
  277000      0   1   0   1   0   0   0   0   0   0   0   0   0   0   0
  278000      1   2   0   1   0   0   0   0   0   0   0   0   0   0   0
  279000      1   0   1   0   1   0   0   0   0   0   0   0   0   0   0
  280000     20  40  35  25  15   4   0   1   1   0   0   0   0   0   0
  283000      0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  284000      0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  285000      1   1   6   3   0   1   0   0   0   0   0   0   0   0   0
  286000      0   2   0   1   1   0   0   0   0   0   0   0   0   0   0
  287000      1   0   0   1   0   0   0   0   1   0   0   0   0   0   0
  288000      1   0   1   4   1   0   0   0   0   0   0   0   0   0   0
  290000      4   2  10   9   2   0   0   1   0   0   0   0   0   0   0
  291000      0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  295000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  297000      1   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  298000      0   0   0   0   1   0   0   0   0   0   0   0   0   0   0
  300000    117 200 191 149  80  43  10   7   2   2   0   0   0   0   1
  300001      0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  300008      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  301000      1   9  11   7   3   3   1   1   0   0   0   0   0   0   0
  302000      0   2   0   0   0   0   0   0   0   0   0   0   0   0   0
  303000      0   1   0   1   0   1   0   0   0   0   0   0   0   0   0
  304000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  305000      3   1   1   0   1   0   0   0   0   0   0   0   0   0   0
  306000      2   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  307000      0   0   0   0   1   0   0   0   0   0   0   0   0   0   0
  308000      0   0   0   0   0   0   1   0   0   0   0   0   0   0   0
  310000      1   7   5   8   4   2   0   0   0   0   0   0   0   0   0
  312000      1   1   1   0   0   1   0   0   0   0   0   0   0   0   0
  313000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  314000      1   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  315000      0   3   4   2   0   0   0   0   0   0   0   0   0   0   0
  316000      1   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  318500      0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  320000     18  35  45  21   9   5   3   2   2   0   0   0   1   0   0
  320500      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  321000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  322000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  324000      0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  325000      0   3   2   1   3   0   0   0   0   0   0   0   0   0   0
  326000      1   1   2   1   1   1   0   0   0   1   0   0   0   0   0
  326400      0   0   0   0   1   0   0   0   0   0   0   0   0   0   0
  326500      0   1   0   0   1   1   1   0   0   0   0   0   0   0   0
  327000      0   0   0   3   0   0   0   0   0   0   0   0   0   0   0
  327500      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  328000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  329000      0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  330000      4  10  11   9   5   0   1   0   0   0   0   0   0   0   0
  332000      0   1   1   0   0   0   0   0   0   0   0   0   0   0   0
  333000      1   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  333333      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  335000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  338000      0   0   0   0   1   0   0   0   0   0   0   0   0   0   0
  340000      5  10   6   9   3   1   1   0   1   0   0   0   0   0   0
  344000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  345000      0   0   0   0   1   0   0   0   0   0   0   0   0   0   0
  346000      0   0   0   0   0   0   1   0   0   0   0   0   0   0   0
  347000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  348000      0   0   0   2   0   0   0   0   0   0   0   0   0   0   0
  349000      0   0   0   0   1   0   0   0   0   0   0   0   0   0   0
  350000     62 117 120  89  57  21  12   1   0   0   1   0   0   0   0
  350080      0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  351000      0   0   0   0   1   0   0   0   0   0   0   0   0   0   0
  352000      0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  356000      1   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  357000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  358000      0   0   0   0   0   1   0   0   0   0   0   0   0   0   0
  360000      7  18  17  15   8   1   1   0   0   0   0   0   0   0   0
  361000      0   0   0   0   1   0   0   0   0   0   0   0   0   0   0
  362000      0   1   1   1   0   0   0   0   0   0   0   0   0   0   0
  365000      0   0   0   1   0   0   1   0   0   0   0   0   0   0   0
  367000      0   0   2   0   0   0   0   0   0   0   0   0   0   0   0
  368000      0   0   0   0   2   0   0   0   0   0   0   0   0   0   0
  369000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  370000      4  11  12   7   5   3   2   0   0   0   0   0   0   0   1
  372000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  373000      1   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  375000      0   2   3   3   0   0   0   0   0   0   0   0   0   0   0
  377000      0   1   0   0   0   0   1   0   0   0   0   0   0   0   0
  378000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  380000     18  35  39  40  21  10   3   2   0   0   0   0   0   0   0
  382000      1   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  382500      0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  384000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  385000      0   1   1   2   0   0   0   0   0   0   0   0   0   0   0
  388000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  389000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  390000      2   6   8   7   3   0   0   0   0   0   0   0   0   0   0
  391000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  392000      0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  394000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  395000      0   0   0   1   0   1   0   0   0   0   0   0   0   0   0
  396000      0   0   0   2   0   0   0   0   0   0   0   0   0   0   0
  397000      0   0   0   0   1   0   0   0   0   0   0   0   0   0   0
  398000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  400000    103 208 207 198  98  45   9   8   1   1   1   0   0   0   0
  400020      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  403000      0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  405000      0   1   0   0   0   1   0   0   0   0   0   0   0   0   0
  408000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  410000      0   6   1   1   1   1   0   0   0   0   0   0   0   0   0
  412000      1   2   0   1   1   0   0   0   0   0   0   0   0   0   0
  413000      0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  414000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  415000      1   1   1   1   0   0   0   0   0   0   0   0   0   0   0
  418000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  420000      7  14  19   9   8   7   1   2   1   0   0   0   0   0   0
  421000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  422000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  430000      5   8   4  14   5   2   0   0   1   0   0   0   0   0   0
  435000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  436000      0   0   0   0   0   1   0   0   0   0   0   0   0   0   0
  440000      0   5   4   8   0   1   0   0   0   0   0   0   0   0   0
  445000      0   1   1   0   0   0   0   0   0   0   0   0   0   0   0
  446000      0   1   0   0   1   0   0   0   0   0   0   0   0   0   0
  448000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  450000     48  83  90  72  43  20   5   3   1   1   0   0   0   0   0
  450008      0   0   0   0   1   0   0   0   0   0   0   0   0   0   0
  452000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  455000      0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  458000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  460000      4  10  13  17   5   2   1   0   1   0   0   0   0   0   0
  464000      1   0   0   0   1   0   0   0   0   0   0   0   0   0   0
  465000      1   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  468000      0   1   1   0   0   0   0   0   0   0   0   0   0   0   0
  470000      1   8   8   6   3   1   0   0   0   0   0   0   0   0   0
  474000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  475000      0   0   0   0   0   1   0   0   0   0   0   0   0   0   0
  476000      1   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  477000      1   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  478000      1   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  480000     16  17  27  29   9   1   3   3   0   1   0   0   0   0   0
  485000      1   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  490000      3   3   6   3   2   3   0   0   0   0   0   0   0   0   0
  492000      0   0   0   0   1   0   0   0   0   0   0   0   0   0   0
  495000      1   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  496000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  497000      1   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  500000    118 173 204 174  85  26  18   6   1   2   1   0   0   0   0
  504000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  508000      1   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  510000      0   2   2   2   1   0   0   0   0   0   0   0   0   0   0
  512000      0   0   0   1   1   0   0   0   0   0   0   0   0   0   0
  513000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  515000      0   0   0   0   1   0   0   0   0   0   0   0   0   0   0
  517000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  520000      4   4   7  13   7   2   1   0   1   0   0   0   0   0   0
  525000      0   1   2   0   0   0   0   0   0   0   0   0   0   0   0
  530000      4   7   1   2   0   0   0   0   0   0   0   0   0   0   0
  531000      0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  535000      0   0   1   0   1   0   0   0   0   0   0   0   0   0   0
  540000      0   7   1   3   0   1   0   0   0   0   0   0   0   0   0
  543000      0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  545000      0   0   0   0   0   1   0   0   0   0   0   0   0   0   0
  547000      1   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  549000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  550000     24  36  42  40  21   9   0   2   1   0   1   0   0   0   0
  552000      0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  558000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  560000      2   8   3   6   5   1   0   0   0   1   0   0   0   0   0
  563000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  570000      1   8   1   4   4   0   1   0   0   0   0   0   0   0   0
  571000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  575000      0   1   0   1   0   0   0   0   0   0   0   0   0   0   0
  579000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  580000      3   9  11   9   1   0   0   0   0   0   0   0   0   0   0
  582000      1   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  583000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  590000      2   2   2   0   0   0   0   0   0   0   0   0   0   0   0
  600000     68 138 126 136  75  22  16  10   0   0   0   2   0   0   0
  605000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  610000      0   4   2   0   0   0   0   0   0   0   0   0   0   0   0
  620000      2   6   6   2   4   1   0   0   0   0   1   0   0   0   0
  625000      0   0   0   0   1   1   0   0   0   0   0   0   0   0   0
  630000      1   3   5   3   0   0   0   0   0   0   0   0   0   0   0
  632000      0   0   0   0   1   0   0   0   0   0   0   0   0   0   0
  640000      0   1   3   0   1   0   0   0   0   0   0   0   0   0   0
  650000     18  28  37  35  18   1   0   2   0   1   0   1   0   0   0
  651000      0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  658000      0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  660000      2   1   1   0   0   0   0   0   0   0   0   0   0   0   0
  665000      1   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  670000      0   2   1   1   1   0   0   0   0   0   0   0   0   0   0
  680000      2   8   7   9   4   1   0   0   0   0   0   0   0   0   0
  690000      0   2   3   3   0   0   0   0   0   0   0   0   0   0   0
  694000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  695000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  700000     47  84  99  88  45  19  11   1   1   0   2   1   0   0   0
  701000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  702000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  710000      0   0   2   0   0   0   0   0   0   0   0   0   0   0   0
  715000      1   0   0   0   0   1   0   0   0   0   0   0   0   0   0
  720000      1   3   2   2   2   0   1   0   0   0   0   0   0   0   0
  730000      1   1   3   1   1   0   0   0   0   0   0   0   0   0   0
  732000      1   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  735000      0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  740000      0   2   0   0   0   0   0   0   0   0   0   0   0   0   0
  750000     14  29  35  21  16   2   1   0   0   0   0   0   0   0   0
  760000      1   0   4   1   0   0   0   0   0   0   0   0   0   0   0
  765000      0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  770000      0   0   0   0   2   0   0   0   1   0   0   0   0   0   0
  775000      1   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  779000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  780000      1   5   1   3   1   2   0   0   0   0   0   0   0   0   0
  785000      0   0   0   0   1   0   0   0   0   0   0   0   0   0   0
  790000      1   0   0   0   1   1   0   0   0   0   0   0   0   0   0
  800000     49  90 111  73  54  17   4   3   0   1   0   0   0   0   0
  809000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  810000      0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  813000      0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  815000      0   0   0   2   0   0   0   0   0   0   0   0   0   0   0
  820000      2   0   1   2   1   0   0   0   0   0   0   0   0   0   0
  830000      0   2   0   3   0   0   1   0   0   0   0   0   0   0   0
  835000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  840000      0   1   0   1   0   0   0   0   0   0   0   0   0   0   0
  850000     11  22  26  27   9   3   3   1   0   0   0   0   0   0   0
  850001      0   0   0   0   1   0   0   0   0   0   0   0   0   0   0
  855000      1   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  860000      0   0   0   0   0   0   1   0   0   0   0   0   0   0   0
  870000      0   1   1   0   1   1   0   0   0   0   0   0   0   0   0
  875000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  880000      0   1   0   2   0   0   0   0   0   0   0   0   0   0   0
  890000      1   1   4   2   1   0   1   0   1   0   0   0   0   0   0
  900000     30  41  48  34  14   9   1   0   0   1   0   0   0   0   0
  910000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  920000      1   1   5   2   0   0   1   1   0   1   0   0   0   0   0
  930000      2   1   0   1   0   2   0   0   0   0   0   0   0   0   0
  936000      0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  940000      0   0   0   0   0   1   0   0   0   0   0   0   0   0   0
  945000      0   0   2   0   0   0   0   0   0   0   0   0   0   0   0
  946000      0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  950000      6   5  12  10   4   0   1   0   0   0   0   0   0   0   0
  956000      0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  960000      0   3   2   2   0   0   0   0   0   0   0   0   0   0   0
  970000      1   0   2   1   1   0   0   0   0   0   0   0   0   0   0
  980000      0   3   3   4   1   0   0   0   0   0   0   0   0   0   0
  984000      0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  990000      0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  1000000    38  55 101  64  35  10   5   0   1   1   0   0   0   0   0
  1000500     0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  1025000     0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  1030000     1   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  1049000     0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  1050000     0   6   4   1   1   0   0   0   0   0   0   0   0   0   0
  1060000     0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  1065000     0   0   0   0   0   1   0   0   0   0   0   0   0   0   0
  1066000     0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  1070000     1   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  1078000     0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  1100000    11  13  17  17   8   4   1   0   0   0   0   0   0   0   0
  1120000     0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  1150000     2   3   1   3   0   0   0   0   0   1   0   0   0   0   0
  1200000    29  40  56  49  17  12   2   1   0   0   1   1   0   0   0
  1250000     0   2   4   1   0   0   0   0   0   0   0   0   0   0   0
  1260000     0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  1280000     1   0   2   0   0   0   0   0   0   0   0   0   0   0   0
  1300000     4  19  21  27   8   4   3   0   0   0   0   0   0   0   0
  1340000     0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  1350000     2   1   3   2   1   0   1   0   0   0   0   0   0   0   0
  1400000     9   6  27  15   4   1   0   0   0   0   0   0   0   0   0
  1450000     1   3   3   1   0   0   0   0   0   0   0   0   0   0   0
  1470000     0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  1480000     0   1   1   0   0   0   0   0   0   0   0   0   0   0   0
  1490000     0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  1500000    31  46  44  40  19   4   1   0   0   0   0   0   0   0   0
  1600000    10  10  13   6   4   0   0   1   0   0   0   0   0   0   0
  1650000     0   2   0   0   0   0   0   0   0   0   0   0   0   0   0
  1700000     9   7  10   8   2   1   0   0   0   0   0   0   0   0   0
  1750000     0   0   0   1   1   0   0   0   0   0   0   0   0   0   0
  1800000     9   4  13  13   5   0   0   0   0   0   0   0   0   0   0
  1836000     0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  1850000     0   1   1   0   0   0   0   0   0   0   0   0   0   0   0
  1870000     0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  1874000     0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  1900000     2   5   4   5   0   0   1   1   0   0   0   0   0   0   0
  1950000     1   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  1990000     0   0   0   0   0   1   0   0   0   0   0   0   0   0   0
  2000000    14  21  34  26   5   5   3   0   1   0   0   0   0   0   0
  2050000     0   1   1   0   0   0   0   0   0   0   0   0   0   0   0
  2100000     1   1   1   0   0   1   0   0   0   0   0   0   0   0   0
  2160000     0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  2200000     2   3   3   1   0   1   0   0   0   0   0   0   0   0   0
  2250000     1   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  2300000     1   2   3   1   2   0   0   0   0   0   0   0   0   0   0
  2400000     1   1   0   1   1   0   0   0   0   0   0   0   0   0   0
  2500000    10  12   8   3   2   1   1   0   0   0   0   0   0   0   0
  2600000     0   1   1   2   2   0   0   0   0   0   0   0   0   0   0
  2700000     2   1   0   1   0   0   0   0   0   0   0   0   0   0   0
  2700040     0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  2800000     1   1   2   3   1   0   0   0   0   0   0   0   0   0   0
  2900000     0   1   1   1   0   2   0   0   0   0   0   0   0   0   0
  3000000     4   8  10  10   1   2   1   0   0   0   0   0   0   0   0
  3100000     1   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  3200000     1   0   1   0   0   0   1   0   0   0   0   0   0   0   0
  3400000     0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  3500000     0   4   3   5   1   1   0   0   0   0   0   0   0   0   0
  3600000     0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
  4000000     1   4   2   6   2   1   0   0   0   1   0   0   0   0   0
  4500000     2   1   0   0   1   0   0   0   0   0   0   0   0   0   0
  4800000     0   0   0   0   0   1   0   0   0   0   0   0   0   0   0
  5000000     3   1   5   1   2   0   0   0   0   0   0   0   0   0   0
  5500000     0   0   0   1   1   0   0   0   0   0   0   0   0   0   0
  6000000     0   0   0   0   2   1   0   0   0   0   0   0   0   0   0
  6500000     1   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  7000000     0   0   0   0   1   1   0   0   0   0   0   0   0   0   0
  9000000     1   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  9491286     0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
  10000000    0   0   2   1   1   0   0   0   0   0   0   0   0   0   0
  15000000    0   1   0   2   0   0   0   0   0   0   0   0   0   0   0
  20000000    0   0   0   1   0   0   0   0   0   0   0   0   0   0   0
  999999999   0   0   1   0   0   0   0   0   0   0   0   0   0   0   0</code></pre>
</div>
<div class="sourceCode" id="cb67"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#ingresos individuales para hogares de 1 persona</span></span>
<span> <span class="va">elsoc_long_2016_2023</span> <span class="op">%&gt;%</span> <span class="fu">sjmisc</span><span class="fu">::</span><span class="fu"><a href="https://strengejacke.github.io/sjmisc/reference/find_var.html">find_var</a></span><span class="op">(</span><span class="st">'Ingreso'</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  col.nr var.name                                       var.label
1    587      m13            Ingreso mensual entrevistado (monto)
2    588      m14 Ingreso mensual del entrevistado (en 16 tramos)
3    589     m14b  Ingreso mensual del entrevistado (en 5 tramos)
4    609      m29                 Ingreso total del hogar (monto)
5    610      m30          Ingreso total del hogar (en 20 tramos)
6    611     m30b           Ingreso total del hogar (en 5 tramos)</code></pre>
</div>
<div class="sourceCode" id="cb69"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">inc_ind</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">n_hogar_r</span><span class="op">==</span><span class="fl">1</span>, <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">m13</span>,<span class="cn">NA</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">inc_ind</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   -999  250000  400000  540774  650000 9000000   19176 </code></pre>
</div>
<div class="sourceCode" id="cb71"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># </span></span>
<span><span class="co"># c(40000,</span></span>
<span><span class="co"># (40001 + 85000) / 2,</span></span>
<span><span class="co"># (85001 + 125000) / 2,</span></span>
<span><span class="co"># (125001 + 170000) / 2,</span></span>
<span><span class="co"># (170001 + 210000) / 2,</span></span>
<span><span class="co"># (210001 + 230000) / 2,</span></span>
<span><span class="co"># (230001 + 280000) / 2,</span></span>
<span><span class="co"># (280001 + 320000) / 2,</span></span>
<span><span class="co"># (320001 + 360000) / 2,</span></span>
<span><span class="co"># (360001 + 400000) / 2,</span></span>
<span><span class="co"># (400001 + 465000) / 2,</span></span>
<span><span class="co"># (465001 + 540000) / 2,</span></span>
<span><span class="co"># (540001 + 665000) / 2,</span></span>
<span><span class="co"># (665001 + 850000) / 2,</span></span>
<span><span class="co"># (850001 + 1300000) / 2,</span></span>
<span><span class="co"># 1300001)    </span></span>
<span></span>
<span><span class="fu">frq</span><span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">m14</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Ingreso mensual del entrevistado (en 16 tramos) (x) &lt;numeric&gt; 
# total N=20761 valid N=990 mean=-256.91 sd=440.12

Value |                                       Label |     N | Raw % | Valid % | Cum. %
--------------------------------------------------------------------------------------
 -999 |                                 No Responde |   221 |  1.06 |   22.32 |  22.32
 -888 |                                     No Sabe |    46 |  0.22 |    4.65 |  26.97
 -777 |             Valor perdido por error tecnico |     0 |  0.00 |    0.00 |  26.97
 -666 |       Valor perdido por encuesta incompleta |     0 |  0.00 |    0.00 |  26.97
    1 |         Menos de $40.000 mensuales liquidos |    18 |  0.09 |    1.82 |  28.79
    2 |     De $40.001 a $85.000 mensuales liquidos |    26 |  0.13 |    2.63 |  31.41
    3 |    De $85.001 a $125.000 mensuales liquidos |    27 |  0.13 |    2.73 |  34.14
    4 |   De $125.001 a $170.000 mensuales liquidos |    34 |  0.16 |    3.43 |  37.58
    5 |   De $170.001 a $210.000 mensuales liquidos |    36 |  0.17 |    3.64 |  41.21
    6 |   De $210.001 a $230.000 mensuales liquidos |    16 |  0.08 |    1.62 |  42.83
    7 |   De $230.001 a $280.000 mensuales liquidos |    37 |  0.18 |    3.74 |  46.57
    8 |   De $280.001 a $320.000 mensuales liquidos |    55 |  0.26 |    5.56 |  52.12
    9 |   De $320.001 a $360.000 mensuales liquidos |    57 |  0.27 |    5.76 |  57.88
   10 |   De $360.001 a $400.000 mensuales liquidos |    43 |  0.21 |    4.34 |  62.22
   11 |   De $400.001 a $465.000 mensuales liquidos |    58 |  0.28 |    5.86 |  68.08
   12 |   De $465.001 a $540.000 mensuales liquidos |    47 |  0.23 |    4.75 |  72.83
   13 |   De $540.001 a $665.000 mensuales liquidos |    61 |  0.29 |    6.16 |  78.99
   14 |   De $665.001 a $850.000 mensuales liquidos |    84 |  0.40 |    8.48 |  87.47
   15 | De $850.001 a $1.300.000 mensuales liquidos |    70 |  0.34 |    7.07 |  94.55
   16 |      Mas de $1.300.001 a mensuales liquidos |    54 |  0.26 |    5.45 | 100.00
 &lt;NA&gt; |                                        &lt;NA&gt; | 19771 | 95.23 |    &lt;NA&gt; |   &lt;NA&gt;</code></pre>
</div>
<div class="sourceCode" id="cb73"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">Ltop_1</span><span class="op">&lt;-</span> <span class="fl">850001</span></span>
<span><span class="va">Ltop</span>  <span class="op">&lt;-</span> <span class="fl">1300001</span> </span>
<span><span class="va">ftop_1</span> <span class="op">&lt;-</span> <span class="fl">65</span></span>
<span><span class="va">ftop</span>   <span class="op">&lt;-</span> <span class="fl">40</span></span>
<span></span>
<span><span class="va">V</span>  <span class="op">=</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="va">ftop_1</span> <span class="op">+</span> <span class="va">ftop</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="va">ftop</span><span class="op">)</span><span class="op">)</span> <span class="op">/</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="va">Ltop</span><span class="op">)</span> <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="va">Ltop_1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">M_top</span> <span class="op">=</span> <span class="fl">0.5</span><span class="op">*</span> <span class="va">Ltop</span> <span class="op">*</span><span class="op">(</span><span class="fl">1</span><span class="op">+</span><span class="op">(</span><span class="va">V</span><span class="op">/</span><span class="op">(</span><span class="va">V</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="co"># = $1.811.247</span></span>
<span></span>
<span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">m14_rec</span><span class="op">&lt;-</span> </span>
<span>  <span class="fu">car</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/car/man/recode.html">recode</a></span><span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">m14</span>,</span>
<span>              <span class="st">"1=40000.0;2=62500.5;3=105000.5;4=147500.5;5=190000.5;6=220000.5;</span></span>
<span><span class="st">              7=255000.5;8=300000.5;9=340000.5;10=380000.5;11=432500.5;12=502500.5;</span></span>
<span><span class="st">              13=602500.5;14=757500.5;15=1075000.5;16=1811247"</span></span>
<span>  <span class="op">)</span> </span>
<span></span>
<span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">inc_ind</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">n_hogar_r</span><span class="op">==</span><span class="fl">1</span> <span class="op">&amp;</span> <span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">inc_ind</span><span class="op">)</span>, <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">m14_rec</span>, <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">inc_ind</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">inc_ind</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   -999  250000  400000  540774  650000 9000000   19176 </code></pre>
</div>
<div class="sourceCode" id="cb75"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Ingreso del hogar pegarle ingreso del hogar unipersonal</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">m29_imp</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      Min.    1st Qu.     Median       Mean    3rd Qu.       Max.       NA's 
      -777     300000     500000     960751     800000 4000000000        690 </code></pre>
</div>
<div class="sourceCode" id="cb77"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">m29_imp</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">m29_imp</span><span class="op">)</span> <span class="op">&amp;</span>  <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">n_hogar_r</span><span class="op">==</span><span class="fl">1</span>,</span>
<span>          <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">inc_ind</span>,</span>
<span>          <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">m29_imp</span><span class="op">)</span> <span class="co">#recupero 14 casos</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">m29_imp</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      Min.    1st Qu.     Median       Mean    3rd Qu.       Max.       NA's 
      -999     300000     500000     958629     800000 4000000000        642 </code></pre>
</div>
<div class="sourceCode" id="cb79"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Household Equivalent income </span></span>
<span><span class="co"># 1.0 to the first adult;</span></span>
<span><span class="co"># 0.5 to the second and each subsequent person aged 14 and over;</span></span>
<span><span class="co"># 0.3 to each child aged under 14.</span></span>
<span></span>
<span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">n_hogar_r_eq</span> <span class="op">&lt;-</span> <span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">n_hogar_r</span> <span class="op">+</span> <span class="fl">1</span><span class="op">)</span> <span class="op">/</span><span class="fl">2</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">n_hogar_r_eq</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
   1  1.5    2  2.5    3  3.5    4  4.5    5  5.5    6  6.5    7  7.5    8 
2854 4926 4664 4066 2029  826  327  151   47   29   10    8    2    2    2 </code></pre>
</div>
<div class="sourceCode" id="cb81"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">frq</span><span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">n_hogar_r_eq</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>x &lt;numeric&gt; 
# total N=20761 valid N=19943 mean=2.07 sd=0.79

Value |    N | Raw % | Valid % | Cum. %
---------------------------------------
 1.00 | 2854 | 13.75 |   14.31 |  14.31
 1.50 | 4926 | 23.73 |   24.70 |  39.01
 2.00 | 4664 | 22.47 |   23.39 |  62.40
 2.50 | 4066 | 19.58 |   20.39 |  82.79
 3.00 | 2029 |  9.77 |   10.17 |  92.96
 3.50 |  826 |  3.98 |    4.14 |  97.10
 4.00 |  327 |  1.58 |    1.64 |  98.74
 4.50 |  151 |  0.73 |    0.76 |  99.50
 5.00 |   47 |  0.23 |    0.24 |  99.73
 5.50 |   29 |  0.14 |    0.15 |  99.88
 6.00 |   10 |  0.05 |    0.05 |  99.93
 6.50 |    8 |  0.04 |    0.04 |  99.97
 7.00 |    2 |  0.01 |    0.01 |  99.98
 7.50 |    2 |  0.01 |    0.01 |  99.99
 8.00 |    2 |  0.01 |    0.01 | 100.00
 &lt;NA&gt; |  818 |  3.94 |    &lt;NA&gt; |   &lt;NA&gt;</code></pre>
</div>
<div class="sourceCode" id="cb83"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Per capita household income:</span></span>
<span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">ing_pc</span> <span class="op">&lt;-</span> </span>
<span>  <span class="op">(</span><span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">m29_imp</span><span class="op">/</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">n_hogar_r</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Per capita household income equivalized (OECD):</span></span>
<span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">ing_pc_eq</span> <span class="op">&lt;-</span> </span>
<span>  <span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">m29_imp</span><span class="op">/</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">n_hogar_r_eq</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">descr</span><span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">ing_pc_eq</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
## Basic descriptive statistics

 var    type label     n NA.prc     mean       sd       se     md trimmed
  dd numeric    dd 19348   6.81 542096.7 19231103 138256.7 260000  300880
                              range    iqr   skew
 2666667665.67 (-999-2666666666.67) 290000 137.78</code></pre>
</div>
<div class="sourceCode" id="cb85"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">descr</span><span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">ing_pc</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
## Basic descriptive statistics

 var    type label     n NA.prc     mean       sd       se     md  trimmed
  dd numeric    dd 19348   6.81 401651.1 14423877 103696.5 180000 215843.5
                        range      iqr   skew
 2000000999 (-999-2000000000) 233333.3 137.77</code></pre>
</div>
<div class="sourceCode" id="cb87"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">ing_pc</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">sjlabelled</span><span class="fu">::</span><span class="fu"><a href="https://strengejacke.github.io/sjlabelled/reference/set_label.html">set_label</a></span><span class="op">(</span>x <span class="op">=</span>  <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">ing_pc</span>,</span>
<span>                        label <span class="op">=</span> <span class="st">"Household income per capita"</span><span class="op">)</span>  </span>
<span></span>
<span><span class="fu">sjmisc</span><span class="fu">::</span><span class="fu"><a href="https://strengejacke.github.io/sjmisc/reference/descr.html">descr</a></span><span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">ing_pc</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
## Basic descriptive statistics

 var    type                       label     n NA.prc     mean       sd
  dd numeric Household income per capita 19348   6.81 401651.1 14423877
       se     md  trimmed                        range      iqr   skew
 103696.5 180000 215843.5 2000000999 (-999-2000000000) 233333.3 137.77</code></pre>
</div>
<div class="sourceCode" id="cb89"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Compute income quintiles</span></span>
<span> <span class="va">elsoc_long_2016_2023</span> <span class="op">&lt;-</span>  <span class="va">elsoc_long_2016_2023</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">ola</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>quintil <span class="op">=</span> <span class="fu">ntile</span><span class="op">(</span><span class="op">-</span><span class="fu">desc</span><span class="op">(</span><span class="va">ing_pc</span><span class="op">)</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">ungroup</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">quintil</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">quintil</span>,</span>
<span>         levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span>,</span>
<span>         labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'Q1'</span>, <span class="st">'Q2'</span>, <span class="st">'Q3'</span>, <span class="st">'Q4'</span>, <span class="st">'Q5'</span><span class="op">)</span><span class="op">)</span> <span class="co"># Quintiles as factors</span></span>
<span></span>
<span><span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">quintil</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu">sjlabelled</span><span class="fu">::</span><span class="fu"><a href="https://strengejacke.github.io/sjlabelled/reference/set_label.html">set_label</a></span><span class="op">(</span>x <span class="op">=</span>  <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">quintil</span>,</span>
<span>                        label <span class="op">=</span> <span class="st">"Household income quintile per capita"</span><span class="op">)</span>  </span>
<span></span>
<span><span class="fu">sjmisc</span><span class="fu">::</span><span class="fu"><a href="https://strengejacke.github.io/sjmisc/reference/frq.html">frq</a></span><span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">quintil</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Household income quintile per capita (x) &lt;categorical&gt; 
# total N=20761 valid N=19348 mean=3.00 sd=1.41

Value |    N | Raw % | Valid % | Cum. %
---------------------------------------
Q1    | 3873 | 18.66 |   20.02 |  20.02
Q2    | 3871 | 18.65 |   20.01 |  40.02
Q3    | 3870 | 18.64 |   20.00 |  60.03
Q4    | 3868 | 18.63 |   19.99 |  80.02
Q5    | 3866 | 18.62 |   19.98 | 100.00
&lt;NA&gt;  | 1413 |  6.81 |    &lt;NA&gt; |   &lt;NA&gt;</code></pre>
</div>
<div class="sourceCode" id="cb91"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#include new quintile category with missing cases</span></span>
<span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">quintil1</span><span class="op">&lt;-</span></span>
<span>  <span class="fu">car</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/car/man/recode.html">recode</a></span><span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">quintil</span>, </span>
<span>              <span class="st">"'Q1'='Q1';'Q2'= 'Q2';'Q3'='Q3';'Q4'='Q4';'Q5'='Q5'; NA='QNA'"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># elsoc_long_2016_2023$quintil1 &lt;- factor( elsoc_long_2016_2023$quintil1, c("Q1","Q2","Q3","Q4","Q5","QNA"))</span></span>
<span></span>
<span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">quintil1</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu">sjlabelled</span><span class="fu">::</span><span class="fu"><a href="https://strengejacke.github.io/sjlabelled/reference/set_label.html">set_label</a></span><span class="op">(</span>x <span class="op">=</span>  <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">quintil1</span>,</span>
<span>                        label <span class="op">=</span> <span class="st">"Household income quintile per capita (NA)"</span><span class="op">)</span> </span>
<span><span class="fu">sjmisc</span><span class="fu">::</span><span class="fu"><a href="https://strengejacke.github.io/sjmisc/reference/frq.html">frq</a></span><span class="op">(</span> <span class="va">elsoc_long_2016_2023</span><span class="op">$</span><span class="va">quintil1</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Household income quintile per capita (NA) (x) &lt;categorical&gt; 
# total N=20761 valid N=20761 mean=3.20 sd=1.56

Value |    N | Raw % | Valid % | Cum. %
---------------------------------------
Q1    | 3873 | 18.66 |   18.66 |  18.66
Q2    | 3871 | 18.65 |   18.65 |  37.30
Q3    | 3870 | 18.64 |   18.64 |  55.94
Q4    | 3868 | 18.63 |   18.63 |  74.57
Q5    | 3866 | 18.62 |   18.62 |  93.19
QNA   | 1413 |  6.81 |    6.81 | 100.00
&lt;NA&gt;  |    0 |  0.00 |    &lt;NA&gt; |   &lt;NA&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb93"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">elsoc_income</span> <span class="op">&lt;-</span> <span class="va">elsoc_long_2016_2023</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">idencuesta</span>, <span class="va">ola</span>, <span class="va">ing_pc</span>, <span class="va">quintil</span>, <span class="va">quintil1</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">ola</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span>,<span class="fl">6</span>,<span class="fl">7</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">db_proc</span> <span class="op">&lt;-</span> <span class="fu">left_join</span><span class="op">(</span><span class="va">db_proc</span>, <span class="va">elsoc_income</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"idencuesta"</span>, <span class="st">"wave"</span> <span class="op">=</span> <span class="st">"ola"</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="missing-values" class="level2" data-number="4.4"><h2 data-number="4.4" class="anchored" data-anchor-id="missing-values">
<span class="header-section-number">4.4</span> Missing values</h2>
<div class="cell">
<div class="sourceCode" id="cb94"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html">colSums</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">db_proc</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           idencuesta                  wave ponderador_long_total 
                    0                     0                     0 
             segmento               estrato             just_educ 
                    0                     0                    39 
         just_pension           just_health          merit_effort 
                   55                    35                   104 
         merit_talent      perc_sal_gerente       perc_sal_obrero 
                  104                  1522                   591 
     just_sal_gerente       just_sal_obrero                   age 
                 1163                   435                     0 
                  m01                   sex                   ess 
                   15                     0                    95 
                 ideo                   mjp       perc_inequality 
                  261                    23                  1702 
      just_inequality                  educ              educyear 
                 1191                    15                    15 
               ing_pc               quintil              quintil1 
                 4270                  4270                  3137 </code></pre>
</div>
<div class="sourceCode" id="cb96"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">n_miss</span><span class="op">(</span><span class="va">db_proc</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 19042</code></pre>
</div>
<div class="sourceCode" id="cb98"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">prop_miss</span><span class="op">(</span><span class="va">db_proc</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3.913541</code></pre>
</div>
<div class="sourceCode" id="cb100"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">miss_var_summary</span><span class="op">(</span><span class="va">db_proc</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 27 × 3
   variable         n_miss pct_miss
   &lt;chr&gt;             &lt;int&gt;    &lt;num&gt;
 1 ing_pc             4270    23.7 
 2 quintil            4270    23.7 
 3 quintil1           3137    17.4 
 4 perc_inequality    1702     9.44
 5 perc_sal_gerente   1522     8.45
 6 just_inequality    1191     6.61
 7 just_sal_gerente   1163     6.45
 8 perc_sal_obrero     591     3.28
 9 just_sal_obrero     435     2.41
10 ideo                261     1.45
# ℹ 17 more rows</code></pre>
</div>
<div class="sourceCode" id="cb102"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">miss_var_table</span><span class="op">(</span><span class="va">db_proc</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 17 × 3
   n_miss_in_var n_vars pct_vars
           &lt;int&gt;  &lt;int&gt;    &lt;dbl&gt;
 1             0      7    25.9 
 2            15      3    11.1 
 3            23      1     3.70
 4            35      1     3.70
 5            39      1     3.70
 6            55      1     3.70
 7            95      1     3.70
 8           104      2     7.41
 9           261      1     3.70
10           435      1     3.70
11           591      1     3.70
12          1163      1     3.70
13          1191      1     3.70
14          1522      1     3.70
15          1702      1     3.70
16          3137      1     3.70
17          4270      2     7.41</code></pre>
</div>
<div class="sourceCode" id="cb104"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">vis_miss</span><span class="op">(</span><span class="va">db_proc</span><span class="op">)</span> <span class="op">+</span> <span class="fu">theme</span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>angle<span class="op">=</span><span class="fl">80</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="01-proc-data_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section></section><section id="save-and-export" class="level1" data-number="5"><h1 data-number="5">
<span class="header-section-number">5</span> Save and export</h1>
<div class="cell">
<div class="sourceCode" id="cb105"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">db_proc</span> <span class="op">&lt;-</span> <span class="va">db_proc</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">perc_sal_gerente</span>, <span class="va">perc_sal_obrero</span>, <span class="va">just_sal_gerente</span>, <span class="va">just_sal_obrero</span>, <span class="va">m01</span><span class="op">)</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">df1</span> <span class="op">&lt;-</span> <span class="va">db_proc</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html">na.omit</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">df1</span> <span class="op">&lt;-</span> <span class="fu">sjlabelled</span><span class="fu">::</span><span class="fu"><a href="https://strengejacke.github.io/sjlabelled/reference/copy_labels.html">copy_labels</a></span><span class="op">(</span>df_new <span class="op">=</span> <span class="va">df1</span>, df_origin <span class="op">=</span> <span class="va">db_proc</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/save.html">save</a></span><span class="op">(</span><span class="va">df1</span>, file <span class="op">=</span> <span class="fu">here</span><span class="op">(</span><span class="st">"input/data/proc/df1.RData"</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></main><!-- /main column --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>